import{g as h,f as g,i as b,S as ot,t as _,e as R,c as ge,s as Nn,b as Le,d as Tn,h as Lt,a as gt,r as Ne,k as y,l as Me,j as Te,M as Ce,$ as le,n as Ct,p as vt,q as Cn,v as Et,E as En}from"./web.DLtCu3lB.js";import{I as At,B,a as An,S as Vt}from"./Box.DANHJhxb.js";var On=_("<h2>Kontaktdaten"),In=_("<div class=content><small>Deine persönlichen Daten werden ausschliesslich verwendet, um dich über das Programm der Luzerner Rollenspieltage 2024 zu informieren. Nach dem Event werden diese gelöscht."),dt=_("<br>"),ut=_("<div style=margin-block:.5rem;>");function Dn(t){let e;return[h(On),h(In),h(dt),g(At,{label:"Name",name:"name",get value(){return t.save.name},onValueUpdate:n=>t.updateSave("name",n)}),g(ot,{get when(){return t.save.name.trim().length===0},get children(){var n=h(ut);return b(n,g(B,{type:"danger",children:"Dies ist ein Pflichtfeld."})),n}}),h(dt),g(An,{label:"E-Mail",name:"email",type:"email",get value(){return t.save.email},onValueUpdate:n=>t.updateSave("email",n),ref(n){var r=e;typeof r=="function"?r(n):e=n}}),g(ot,{get when(){return t.save.email.trim().length===0},get children(){var n=h(ut);return b(n,g(B,{type:"danger",children:"Dies ist ein Pflichtfeld."})),n}}),g(ot,{get when(){return t.save.email.length>0&&e.validity.typeMismatch},get children(){var n=h(ut);return b(n,g(B,{type:"danger",children:"Die Eingabe scheint keine gültige E-Mail-Adresse zu sein."})),n}}),h(dt),g(At,{label:"Handynummer",name:"tel",type:"tel",get value(){return t.save.handynummer},required:!1,onValueUpdate:n=>t.updateSave("handynummer",n)})]}var w;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function n(a){throw new Error}t.assertNever=n,t.arrayToEnum=a=>{const s={};for(const i of a)s[i]=i;return s},t.getValidEnumValues=a=>{const s=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of s)i[l]=a[l];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(s){return a[s]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&s.push(i);return s},t.find=(a,s)=>{for(const i of a)if(s(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(w||(w={}));var Ot;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ot||(Ot={}));const m=w.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ie=t=>{switch(typeof t){case"undefined":return m.undefined;case"string":return m.string;case"number":return isNaN(t)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(t)?m.array:t===null?m.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?m.promise:typeof Map<"u"&&t instanceof Map?m.map:typeof Set<"u"&&t instanceof Set?m.set:typeof Date<"u"&&t instanceof Date?m.date:m.object;default:return m.unknown}},u=w.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class F extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},a=s=>{for(const i of s.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(n(i));else{let l=r,o=0;for(;o<i.path.length;){const d=i.path[o];o===i.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(i))):l[d]=l[d]||{_errors:[]},l=l[d],o++}}};return a(this),r}static assert(e){if(!(e instanceof F))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,w.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}F.create=t=>new F(t);const Ae=(t,e)=>{let n;switch(t.code){case u.invalid_type:t.received===m.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case u.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,w.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:n=`Unrecognized key(s) in object: ${w.joinValues(t.keys,", ")}`;break;case u.invalid_union:n="Invalid input";break;case u.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${w.joinValues(t.options)}`;break;case u.invalid_enum_value:n=`Invalid enum value. Expected ${w.joinValues(t.options)}, received '${t.received}'`;break;case u.invalid_arguments:n="Invalid function arguments";break;case u.invalid_return_type:n="Invalid function return type";break;case u.invalid_date:n="Invalid date";break;case u.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:w.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case u.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case u.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case u.custom:n="Invalid input";break;case u.invalid_intersection_types:n="Intersection results could not be merged";break;case u.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case u.not_finite:n="Number must be finite";break;default:n=e.defaultError,w.assertNever(t)}return{message:n}};let jn=Ae;function _t(){return jn}const pt=t=>{const{data:e,path:n,errorMaps:r,issueData:a}=t,s=[...n,...a.path||[]],i={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const o=r.filter(d=>!!d).slice().reverse();for(const d of o)l=d(i,{data:e,defaultError:l}).message;return{...a,path:s,message:l}};function f(t,e){const n=_t(),r=pt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ae?void 0:Ae].filter(a=>!!a)});t.common.issues.push(r)}class D{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return $;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const s=await a.key,i=await a.value;r.push({key:s,value:i})}return D.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:s,value:i}=a;if(s.status==="aborted"||i.status==="aborted")return $;s.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[s.value]=i.value)}return{status:e.value,value:r}}}const $=Object.freeze({status:"aborted"}),ke=t=>({status:"dirty",value:t}),U=t=>({status:"valid",value:t}),It=t=>t.status==="aborted",Dt=t=>t.status==="dirty",Ve=t=>t.status==="valid",ze=t=>typeof Promise<"u"&&t instanceof Promise;function Be(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function zt(t,e,n,r,a){if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var v;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(v||(v={}));var Se,we;class Y{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jt=(t,e)=>{if(Ve(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new F(t.common.issues);return this._error=n,this._error}}};function k(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,l)=>{var o,d;const{message:c}=t;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:(o=c??r)!==null&&o!==void 0?o:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(d=c??n)!==null&&d!==void 0?d:l.defaultError}},description:a}}class S{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ie(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new D,ctx:{common:e.parent.common,data:e.data,parsedType:ie(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(ze(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const a={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},s=this._parseSync({data:e,path:a.path,parent:a});return jt(a,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ie(e)},a=this._parse({data:e,path:r.path,parent:r}),s=await(ze(a)?a:Promise.resolve(a));return jt(r,s)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const i=e(a),l=()=>s.addIssue({code:u.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(o=>o?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new te({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Q.create(this,this._def)}nullable(){return de.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return W.create(this,this._def)}promise(){return Ie.create(this,this._def)}or(e){return He.create([this,e],this._def)}and(e){return We.create(this,e,this._def)}transform(e){return new te({...k(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Xe({...k(this._def),innerType:this,defaultValue:n,typeName:x.ZodDefault})}brand(){return new Ht({typeName:x.ZodBranded,type:this,...k(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Qe({...k(this._def),innerType:this,catchValue:n,typeName:x.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return st.create(this,e)}readonly(){return et.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Un=/^c[^\s-]{8,}$/i,Zn=/^[0-9a-z]+$/,Pn=/^[0-9A-HJKMNP-TV-Z]{26}$/,Mn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ln=/^[a-z0-9_-]{21}$/i,Vn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ct;const Fn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Hn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bt="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wn=new RegExp(`^${Bt}$`);function Ft(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Yn(t){return new RegExp(`^${Ft(t)}$`)}function qn(t){let e=`${Bt}T${Ft(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Jn(t,e){return!!((e==="v4"||!e)&&Fn.test(t)||(e==="v6"||!e)&&Gn.test(t))}class X extends S{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==m.string){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:m.string,received:s.parsedType}),$}const r=new D;let a;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:u.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:u.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const i=e.data.length>s.value,l=e.data.length<s.value;(i||l)&&(a=this._getOrReturnCtx(e,a),i?f(a,{code:u.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&f(a,{code:u.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")zn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"email",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")ct||(ct=new RegExp(Bn,"u")),ct.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"emoji",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Mn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"uuid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Ln.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"nanoid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Un.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Zn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"cuid2",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Pn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ulid",code:u.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),f(a,{validation:"url",code:u.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"regex",code:u.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?qn(s).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Wn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Yn(s).test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{code:u.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Vn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"duration",code:u.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Jn(e.data,s.version)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"ip",code:u.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Hn.test(e.data)||(a=this._getOrReturnCtx(e,a),f(a,{validation:"base64",code:u.invalid_string,message:s.message}),r.dirty()):w.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:u.invalid_string,...v.errToObj(r)})}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...v.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...v.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...v.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...v.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...v.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...v.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...v.errToObj(n)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new X({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new X({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}X.create=t=>{var e;return new X({checks:[],typeName:x.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};function Kn(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(t.toFixed(a).replace(".","")),i=parseInt(e.toFixed(a).replace(".",""));return s%i/Math.pow(10,a)}class ye extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==m.number){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:m.number,received:s.parsedType}),$}let r;const a=new D;for(const s of this._def.checks)s.kind==="int"?w.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?Kn(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),f(r,{code:u.not_finite,message:s.message}),a.dirty()):w.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,v.toString(n))}gt(e,n){return this.setLimit("min",e,!1,v.toString(n))}lte(e,n){return this.setLimit("max",e,!0,v.toString(n))}lt(e,n){return this.setLimit("max",e,!1,v.toString(n))}setLimit(e,n,r,a){return new ye({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:v.toString(a)}]})}_addCheck(e){return new ye({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&w.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ye.create=t=>new ye({checks:[],typeName:x.ZodNumber,coerce:t?.coerce||!1,...k(t)});class be extends S{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==m.bigint){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:m.bigint,received:s.parsedType}),$}let r;const a=new D;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),f(r,{code:u.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):w.assertNever(s);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,v.toString(n))}gt(e,n){return this.setLimit("min",e,!1,v.toString(n))}lte(e,n){return this.setLimit("max",e,!0,v.toString(n))}lt(e,n){return this.setLimit("max",e,!1,v.toString(n))}setLimit(e,n,r,a){return new be({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:v.toString(a)}]})}_addCheck(e){return new be({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}be.create=t=>{var e;return new be({checks:[],typeName:x.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...k(t)})};class yt extends S{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==m.boolean){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.boolean,received:r.parsedType}),$}return U(e.data)}}yt.create=t=>new yt({typeName:x.ZodBoolean,coerce:t?.coerce||!1,...k(t)});class Oe extends S{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==m.date){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_type,expected:m.date,received:s.parsedType}),$}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return f(s,{code:u.invalid_date}),$}const r=new D;let a;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:u.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(a=this._getOrReturnCtx(e,a),f(a,{code:u.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):w.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Oe({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Oe.create=t=>new Oe({checks:[],coerce:t?.coerce||!1,typeName:x.ZodDate,...k(t)});class bt extends S{_parse(e){if(this._getType(e)!==m.symbol){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.symbol,received:r.parsedType}),$}return U(e.data)}}bt.create=t=>new bt({typeName:x.ZodSymbol,...k(t)});class Fe extends S{_parse(e){if(this._getType(e)!==m.undefined){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.undefined,received:r.parsedType}),$}return U(e.data)}}Fe.create=t=>new Fe({typeName:x.ZodUndefined,...k(t)});class Ge extends S{_parse(e){if(this._getType(e)!==m.null){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.null,received:r.parsedType}),$}return U(e.data)}}Ge.create=t=>new Ge({typeName:x.ZodNull,...k(t)});class xt extends S{constructor(){super(...arguments),this._any=!0}_parse(e){return U(e.data)}}xt.create=t=>new xt({typeName:x.ZodAny,...k(t)});class ve extends S{constructor(){super(...arguments),this._unknown=!0}_parse(e){return U(e.data)}}ve.create=t=>new ve({typeName:x.ZodUnknown,...k(t)});class ae extends S{_parse(e){const n=this._getOrReturnCtx(e);return f(n,{code:u.invalid_type,expected:m.never,received:n.parsedType}),$}}ae.create=t=>new ae({typeName:x.ZodNever,...k(t)});class $t extends S{_parse(e){if(this._getType(e)!==m.undefined){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.void,received:r.parsedType}),$}return U(e.data)}}$t.create=t=>new $t({typeName:x.ZodVoid,...k(t)});class W extends S{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==m.array)return f(n,{code:u.invalid_type,expected:m.array,received:n.parsedType}),$;if(a.exactLength!==null){const i=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(i||l)&&(f(n,{code:i?u.too_big:u.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(f(n,{code:u.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(f(n,{code:u.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((i,l)=>a.type._parseAsync(new Y(n,i,n.path,l)))).then(i=>D.mergeArray(r,i));const s=[...n.data].map((i,l)=>a.type._parseSync(new Y(n,i,n.path,l)));return D.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new W({...this._def,minLength:{value:e,message:v.toString(n)}})}max(e,n){return new W({...this._def,maxLength:{value:e,message:v.toString(n)}})}length(e,n){return new W({...this._def,exactLength:{value:e,message:v.toString(n)}})}nonempty(e){return this.min(1,e)}}W.create=(t,e)=>new W({type:t,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...k(e)});function me(t){if(t instanceof E){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Q.create(me(r))}return new E({...t._def,shape:()=>e})}else return t instanceof W?new W({...t._def,type:me(t.element)}):t instanceof Q?Q.create(me(t.unwrap())):t instanceof de?de.create(me(t.unwrap())):t instanceof ee?ee.create(t.items.map(e=>me(e))):t}class E extends S{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=w.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==m.object){const d=this._getOrReturnCtx(e);return f(d,{code:u.invalid_type,expected:m.object,received:d.parsedType}),$}const{status:r,ctx:a}=this._processInputParams(e),{shape:s,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ae&&this._def.unknownKeys==="strip"))for(const d in a.data)i.includes(d)||l.push(d);const o=[];for(const d of i){const c=s[d],p=a.data[d];o.push({key:{status:"valid",value:d},value:c._parse(new Y(a,p,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof ae){const d=this._def.unknownKeys;if(d==="passthrough")for(const c of l)o.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(d==="strict")l.length>0&&(f(a,{code:u.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const c of l){const p=a.data[c];o.push({key:{status:"valid",value:c},value:d._parse(new Y(a,p,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const c of o){const p=await c.key,C=await c.value;d.push({key:p,value:C,alwaysSet:c.alwaysSet})}return d}).then(d=>D.mergeObjectSync(r,d)):D.mergeObjectSync(r,o)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new E({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,s,i,l;const o=(i=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&i!==void 0?i:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=v.errToObj(e).message)!==null&&l!==void 0?l:o}:{message:o}}}:{}})}strip(){return new E({...this._def,unknownKeys:"strip"})}passthrough(){return new E({...this._def,unknownKeys:"passthrough"})}extend(e){return new E({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new E({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new E({...this._def,catchall:e})}pick(e){const n={};return w.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new E({...this._def,shape:()=>n})}omit(e){const n={};return w.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new E({...this._def,shape:()=>n})}deepPartial(){return me(this)}partial(e){const n={};return w.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}),new E({...this._def,shape:()=>n})}required(e){const n={};return w.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Q;)s=s._def.innerType;n[r]=s}}),new E({...this._def,shape:()=>n})}keyof(){return Gt(w.objectKeys(this.shape))}}E.create=(t,e)=>new E({shape:()=>t,unknownKeys:"strip",catchall:ae.create(),typeName:x.ZodObject,...k(e)});E.strictCreate=(t,e)=>new E({shape:()=>t,unknownKeys:"strict",catchall:ae.create(),typeName:x.ZodObject,...k(e)});E.lazycreate=(t,e)=>new E({shape:t,unknownKeys:"strip",catchall:ae.create(),typeName:x.ZodObject,...k(e)});class He extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const i=s.map(l=>new F(l.ctx.common.issues));return f(n,{code:u.invalid_union,unionErrors:i}),$}if(n.common.async)return Promise.all(r.map(async s=>{const i={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:i}),ctx:i}})).then(a);{let s;const i=[];for(const o of r){const d={...n,common:{...n.common,issues:[]},parent:null},c=o._parseSync({data:n.data,path:n.path,parent:d});if(c.status==="valid")return c;c.status==="dirty"&&!s&&(s={result:c,ctx:d}),d.common.issues.length&&i.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=i.map(o=>new F(o));return f(n,{code:u.invalid_union,unionErrors:l}),$}}get options(){return this._def.options}}He.create=(t,e)=>new He({options:t,typeName:x.ZodUnion,...k(e)});const J=t=>t instanceof qe?J(t.schema):t instanceof te?J(t.innerType()):t instanceof Je?[t.value]:t instanceof oe?t.options:t instanceof Ke?w.objectValues(t.enum):t instanceof Xe?J(t._def.innerType):t instanceof Fe?[void 0]:t instanceof Ge?[null]:t instanceof Q?[void 0,...J(t.unwrap())]:t instanceof de?[null,...J(t.unwrap())]:t instanceof Ht||t instanceof et?J(t.unwrap()):t instanceof Qe?J(t._def.innerType):[];class Nt extends S{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.object)return f(n,{code:u.invalid_type,expected:m.object,received:n.parsedType}),$;const r=this.discriminator,a=n.data[r],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(f(n,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const a=new Map;for(const s of n){const i=J(s.shape[e]);if(!i.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of i){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,s)}}return new Nt({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a,...k(r)})}}function kt(t,e){const n=ie(t),r=ie(e);if(t===e)return{valid:!0,data:t};if(n===m.object&&r===m.object){const a=w.objectKeys(e),s=w.objectKeys(t).filter(l=>a.indexOf(l)!==-1),i={...t,...e};for(const l of s){const o=kt(t[l],e[l]);if(!o.valid)return{valid:!1};i[l]=o.data}return{valid:!0,data:i}}else if(n===m.array&&r===m.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let s=0;s<t.length;s++){const i=t[s],l=e[s],o=kt(i,l);if(!o.valid)return{valid:!1};a.push(o.data)}return{valid:!0,data:a}}else return n===m.date&&r===m.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class We extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(s,i)=>{if(It(s)||It(i))return $;const l=kt(s.value,i.value);return l.valid?((Dt(s)||Dt(i))&&n.dirty(),{status:n.value,value:l.data}):(f(r,{code:u.invalid_intersection_types}),$)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,i])=>a(s,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}We.create=(t,e,n)=>new We({left:t,right:e,typeName:x.ZodIntersection,...k(n)});class ee extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.array)return f(r,{code:u.invalid_type,expected:m.array,received:r.parsedType}),$;if(r.data.length<this._def.items.length)return f(r,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$;!this._def.rest&&r.data.length>this._def.items.length&&(f(r,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((i,l)=>{const o=this._def.items[l]||this._def.rest;return o?o._parse(new Y(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(s).then(i=>D.mergeArray(n,i)):D.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ee({...this._def,rest:e})}}ee.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ee({items:t,typeName:x.ZodTuple,rest:null,...k(e)})};class Ye extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.object)return f(r,{code:u.invalid_type,expected:m.object,received:r.parsedType}),$;const a=[],s=this._def.keyType,i=this._def.valueType;for(const l in r.data)a.push({key:s._parse(new Y(r,l,r.path,l)),value:i._parse(new Y(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?D.mergeObjectAsync(n,a):D.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof S?new Ye({keyType:e,valueType:n,typeName:x.ZodRecord,...k(r)}):new Ye({keyType:X.create(),valueType:e,typeName:x.ZodRecord,...k(n)})}}class St extends S{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.map)return f(r,{code:u.invalid_type,expected:m.map,received:r.parsedType}),$;const a=this._def.keyType,s=this._def.valueType,i=[...r.data.entries()].map(([l,o],d)=>({key:a._parse(new Y(r,l,r.path,[d,"key"])),value:s._parse(new Y(r,o,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const o of i){const d=await o.key,c=await o.value;if(d.status==="aborted"||c.status==="aborted")return $;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(d.value,c.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const o of i){const d=o.key,c=o.value;if(d.status==="aborted"||c.status==="aborted")return $;(d.status==="dirty"||c.status==="dirty")&&n.dirty(),l.set(d.value,c.value)}return{status:n.value,value:l}}}}St.create=(t,e,n)=>new St({valueType:e,keyType:t,typeName:x.ZodMap,...k(n)});class xe extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==m.set)return f(r,{code:u.invalid_type,expected:m.set,received:r.parsedType}),$;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(f(r,{code:u.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(f(r,{code:u.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function i(o){const d=new Set;for(const c of o){if(c.status==="aborted")return $;c.status==="dirty"&&n.dirty(),d.add(c.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((o,d)=>s._parse(new Y(r,o,r.path,d)));return r.common.async?Promise.all(l).then(o=>i(o)):i(l)}min(e,n){return new xe({...this._def,minSize:{value:e,message:v.toString(n)}})}max(e,n){return new xe({...this._def,maxSize:{value:e,message:v.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xe.create=(t,e)=>new xe({valueType:t,minSize:null,maxSize:null,typeName:x.ZodSet,...k(e)});class Ee extends S{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.function)return f(n,{code:u.invalid_type,expected:m.function,received:n.parsedType}),$;function r(l,o){return pt({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_t(),Ae].filter(d=>!!d),issueData:{code:u.invalid_arguments,argumentsError:o}})}function a(l,o){return pt({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_t(),Ae].filter(d=>!!d),issueData:{code:u.invalid_return_type,returnTypeError:o}})}const s={errorMap:n.common.contextualErrorMap},i=n.data;if(this._def.returns instanceof Ie){const l=this;return U(async function(...o){const d=new F([]),c=await l._def.args.parseAsync(o,s).catch(T=>{throw d.addIssue(r(o,T)),d}),p=await Reflect.apply(i,this,c);return await l._def.returns._def.type.parseAsync(p,s).catch(T=>{throw d.addIssue(a(p,T)),d})})}else{const l=this;return U(function(...o){const d=l._def.args.safeParse(o,s);if(!d.success)throw new F([r(o,d.error)]);const c=Reflect.apply(i,this,d.data),p=l._def.returns.safeParse(c,s);if(!p.success)throw new F([a(c,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ee({...this._def,args:ee.create(e).rest(ve.create())})}returns(e){return new Ee({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ee({args:e||ee.create([]).rest(ve.create()),returns:n||ve.create(),typeName:x.ZodFunction,...k(r)})}}class qe extends S{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qe.create=(t,e)=>new qe({getter:t,typeName:x.ZodLazy,...k(e)});class Je extends S{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return f(n,{received:n.data,code:u.invalid_literal,expected:this._def.value}),$}return{status:"valid",value:e.data}}get value(){return this._def.value}}Je.create=(t,e)=>new Je({value:t,typeName:x.ZodLiteral,...k(e)});function Gt(t,e){return new oe({values:t,typeName:x.ZodEnum,...k(e)})}class oe extends S{constructor(){super(...arguments),Se.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return f(n,{expected:w.joinValues(r),received:n.parsedType,code:u.invalid_type}),$}if(Be(this,Se)||zt(this,Se,new Set(this._def.values)),!Be(this,Se).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return f(n,{received:n.data,code:u.invalid_enum_value,options:r}),$}return U(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return oe.create(e,{...this._def,...n})}exclude(e,n=this._def){return oe.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Se=new WeakMap;oe.create=Gt;class Ke extends S{constructor(){super(...arguments),we.set(this,void 0)}_parse(e){const n=w.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==m.string&&r.parsedType!==m.number){const a=w.objectValues(n);return f(r,{expected:w.joinValues(a),received:r.parsedType,code:u.invalid_type}),$}if(Be(this,we)||zt(this,we,new Set(w.getValidEnumValues(this._def.values))),!Be(this,we).has(e.data)){const a=w.objectValues(n);return f(r,{received:r.data,code:u.invalid_enum_value,options:a}),$}return U(e.data)}get enum(){return this._def.values}}we=new WeakMap;Ke.create=(t,e)=>new Ke({values:t,typeName:x.ZodNativeEnum,...k(e)});class Ie extends S{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==m.promise&&n.common.async===!1)return f(n,{code:u.invalid_type,expected:m.promise,received:n.parsedType}),$;const r=n.parsedType===m.promise?n.data:Promise.resolve(n.data);return U(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ie.create=(t,e)=>new Ie({type:t,typeName:x.ZodPromise,...k(e)});class te extends S{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:i=>{f(r,i),i.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const i=a.transform(r.data,s);if(r.common.async)return Promise.resolve(i).then(async l=>{if(n.value==="aborted")return $;const o=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return o.status==="aborted"?$:o.status==="dirty"||n.value==="dirty"?ke(o.value):o});{if(n.value==="aborted")return $;const l=this._def.schema._parseSync({data:i,path:r.path,parent:r});return l.status==="aborted"?$:l.status==="dirty"||n.value==="dirty"?ke(l.value):l}}if(a.type==="refinement"){const i=l=>{const o=a.refinement(l,s);if(r.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?$:(l.status==="dirty"&&n.dirty(),i(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?$:(l.status==="dirty"&&n.dirty(),i(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ve(i))return i;const l=a.transform(i.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>Ve(i)?Promise.resolve(a.transform(i.value,s)).then(l=>({status:n.value,value:l})):i);w.assertNever(a)}}te.create=(t,e,n)=>new te({schema:t,typeName:x.ZodEffects,effect:e,...k(n)});te.createWithPreprocess=(t,e,n)=>new te({schema:e,effect:{type:"preprocess",transform:t},typeName:x.ZodEffects,...k(n)});class Q extends S{_parse(e){return this._getType(e)===m.undefined?U(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Q.create=(t,e)=>new Q({innerType:t,typeName:x.ZodOptional,...k(e)});class de extends S{_parse(e){return this._getType(e)===m.null?U(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}de.create=(t,e)=>new de({innerType:t,typeName:x.ZodNullable,...k(e)});class Xe extends S{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===m.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Xe.create=(t,e)=>new Xe({innerType:t,typeName:x.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...k(e)});class Qe extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ze(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new F(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new F(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Qe.create=(t,e)=>new Qe({innerType:t,typeName:x.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...k(e)});class wt extends S{_parse(e){if(this._getType(e)!==m.nan){const r=this._getOrReturnCtx(e);return f(r,{code:u.invalid_type,expected:m.nan,received:r.parsedType}),$}return{status:"valid",value:e.data}}}wt.create=t=>new wt({typeName:x.ZodNaN,...k(t)});class Ht extends S{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class st extends S{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?$:s.status==="dirty"?(n.dirty(),ke(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?$:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new st({in:e,out:n,typeName:x.ZodPipeline})}}class et extends S{_parse(e){const n=this._def.innerType._parse(e),r=a=>(Ve(a)&&(a.value=Object.freeze(a.value)),a);return ze(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}et.create=(t,e)=>new et({innerType:t,typeName:x.ZodReadonly,...k(e)});E.lazycreate;var x;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(x||(x={}));const N=X.create,M=ye.create;wt.create;be.create;const Wt=yt.create;Oe.create;bt.create;Fe.create;const Xn=Ge.create;xt.create;ve.create;ae.create;$t.create;const De=W.create,L=E.create;E.strictCreate;const Yt=He.create;Nt.create;We.create;ee.create;Ye.create;St.create;xe.create;Ee.create;qe.create;const qt=Je.create,Jt=oe.create;Ke.create;Ie.create;te.create;Q.create;const _e=de.create;te.createWithPreprocess;st.create;const Kt=Jt(["SATURDAY","SUNDAY"]);De(L({uuid:N(),description:_e(N()),title:_e(N()),system:N(),master:L({first:N(),last:_e(N())}),playerCount:L({min:M(),max:M()}),slot:L({day:Kt,start:M(),end:M()})}));const Xt=Jt(["INITIALIZED","IN_PROGRESS","CONFIRMED","CONFIRMED_W_INVALID_CHANGES","CONFIRMED_W_VALID_CHANGES","RECONFIRMED"]),Qt=L({game:N(),self:qt(!0),spielerName:Xn()}),en=L({game:N(),self:qt(!1),spielerName:N()}),Qn=Yt([Qt.extend({id:M()}),en.extend({id:M()})]),er=Yt([Qt,en]),tr=L({registrationId:M(),progress:Xt,name:N(),email:N(),handynummer:N(),wantsEmailUpdates:Wt(),games:De(Qn),lastSaved:N()});L({registrationId:M(),progress:Xt,name:N(),email:N(),handynummer:N(),wantsEmailUpdates:Wt(),games:De(er),lastSaved:N()});async function nr(t){const e=new URL("https://elysium.gildedernacht.ch/rst24/load");e.searchParams.append("secret",t);const n=await fetch(e);if(!n.ok)return{kind:"FAILED"};const r=await n.json(),a=tr.safeParse(r);return a.success?{kind:"SUCCESS",save:a.data}:{kind:"FAILED"}}const rr=L({uuid:N(),title:_e(N()),system:N(),description:_e(N()),playerCount:L({min:M(),max:M()}),master:L({first:N(),last:_e(N())}),slot:L({day:Kt,start:M(),end:M()})}),ar=L({id:M(),gameId:N()});async function sr(){const t=new URL("https://elysium.gildedernacht.ch/rst24/program"),e=new URL("https://elysium.gildedernacht.ch/rst24/reserved"),[n,r]=await Promise.all([fetch(t),fetch(e)]);if(!n.ok)return{kind:"FAILED"};if(!r.ok)return{kind:"FAILED"};const a=await n.json(),s=await r.json(),i=De(rr).safeParse(a);if(!i.success)return{kind:"FAILED"};const l=De(ar).safeParse(s);return l.success?{kind:"SUCCESS",program:{gameList:i.data,reservedList:l.data}}:{kind:"FAILED"}}function tn(t,e){const r=e.gameList.filter(s=>s.slot.day===t).map(s=>{const i=s.uuid,l=e.reservedList.filter(o=>o.gameId===i);return{...s,reservedIds:l.map(o=>o.id)}});let a={};for(const s of r){const{start:i}=s.slot,l=a[i]??[];l.push(s),a[i]=l}return Object.entries(a)}var ir=_("<label class=input-checkbox><input type=checkbox><!$><!/>");function lr(t){return(()=>{var e=h(ir),n=e.firstChild,r=n.nextSibling,[a,s]=R(r.nextSibling);return n.addEventListener("change",i=>t.onValueUpdate(i.target.checked)),b(e,()=>t.label,a,s),ge(()=>Nn(n,"name",t.name)),ge(()=>Le(n,"value",t.value)),ge(()=>Le(n,"checked",t.checked)),e})()}var or=_("<div style=display:flex;flex-wrap:wrap;gap:0.5rem;align-items:center;><p><strong></strong></p>|<small><!$><!/> bis <!$><!/> Uhr"),dr=_("<p><small>"),ur=_("<small><!$><!/> - <!$><!/> Uhr"),cr=_("<h4 style=margin-block-end:0.5rem;>"),fr=_("<p>Wir kochen: <span>");function tt(t){const e=t.type==="LUNCH"?13:18,n=t.type==="LUNCH"?14:19,r=t.small===!0,a=t.type==="LUNCH"?"Mittagessen":"Nachtessen";return r?g(B,{get children(){return[(()=>{var s=h(or),i=s.firstChild,l=i.firstChild,o=i.nextSibling,d=o.nextSibling,c=d.firstChild,[p,C]=R(c.nextSibling),T=p.nextSibling,I=T.nextSibling,[j,G]=R(I.nextSibling);return j.nextSibling,b(l,a),b(d,e,p,C),b(d,n,j,G),s})(),(()=>{var s=h(dr),i=s.firstChild;return Le(i,"innerHTML","Pilzrisotto (vegi&nbsp;/&nbsp;vegan), Penne All'Arrabbiata und Penne Pesto (vegi&nbsp;/&nbsp;vegan)."),s})()]}}):g(B,{get children(){return[(()=>{var s=h(ur),i=s.firstChild,[l,o]=R(i.nextSibling),d=l.nextSibling,c=d.nextSibling,[p,C]=R(c.nextSibling);return p.nextSibling,b(s,e,l,o),b(s,n,p,C),s})(),(()=>{var s=h(cr);return b(s,a),s})(),(()=>{var s=h(fr),i=s.firstChild,l=i.nextSibling;return Le(l,"innerHTML","Pilzrisotto (vegi&nbsp;/&nbsp;vegan), Penne All'Arrabbiata und Penne Pesto (vegi&nbsp;/&nbsp;vegan)."),s})()]}})}var hr=_("<li><h1 class=event-title></h1><div class=event-details><div class=event-tags><strong>Zeit:</strong> <!$><!/> - <!$><!/> Uhr</div><div class=event-tags><strong>Spielleitung:</strong> <!$><!/> <!$><!/></div><div class=event-tags><strong>Freie Plätze:</strong> <!$><!/></div><!$><!/></div><div class=event-description><!$><!/><!$><!/></div><!$><!/>"),mr=_("<span>Es hat noch <strong><!$><!/> Plätze</strong> frei."),gr=_("<span>Es hat noch <strong><!$><!/> Platz</strong> frei."),vr=_("<div class=event-tags style=display:block;><em>(Du hast dich bereits für eine Spielrunde eingetragen, die diese Spielrunde zeitlich überschneidet.)"),_r=_('<div class="event-description content"><p><strong>Beschreibung:</strong><br><!$><!/>'),pr=_("<div><p><strong>Deine Reservationen</strong></p><ul>"),yr=_("<li style=font-size:0.83rem;>"),br=_("<s>"),Ut=_('<span title="ungespeicherte Änderung"> *'),xr=_('<a href=javascript:; style=border:none; title="Reservation löschen"><i class="fa-duotone fa-circle-xmark">'),$r=_("<ul role=list class=event-links><li><a class=event-link href=javascript:;>+ Platz für mich reservieren"),kr=_("<ul role=list class=event-links><li><a class=event-link href=javascript:;>+ Platz für Begleitung reservieren"),Sr=_("<h3 style=margin-block:1rem;>Start <!$><!/> Uhr"),wr=_("<ul class=event-list role=list>"),Rr=_(`<style>
          .event-filters .active {
            color: var(--clr-success-10) !important;
          }
        `),Nr=_("<div class=content><small>Auf dieser Seite kannst du dich und deine Freunde für Spielrunden einschreiben, solange es freie Plätze hat."),Zt=_("<br>"),Tr=_("<div class=event-filters><h2>Filter</h2><ul role=list><li><a href=javascript:;>Alle</a></li><!$><!/>"),Pt=_("<div style=margin-block:2rem;>"),Cr=_("<li><a href=javascript:;><!$><!/> Uhr");const Er=1;function Pe(t,e){const{from:n,to:r}=e;return n<=t&&t<=r}function Ar(t,e){const{from:n,to:r}=t,{from:a,to:s}=e;return Pe(n,e)||Pe(r,e)||Pe(a,t)||Pe(s,t)}function Or(t){function e(){return[...t.confirmedReservations.map(a=>({name:a.spielerName??t.selfName,confirmed:!0,gameUuid:t.entry.uuid,reservationId:a.id,markedForDeletion:t.markedForDeletionReservations.includes(a.id)})),...t.tentativeReservations.map(a=>({name:a.friendsName??t.selfName,confirmed:!1,gameUuid:t.entry.uuid,markedForDeletion:!1}))]}function n(){const a=t.confirmedReservations.map(i=>i.id),s=t.entry.reservedIds.filter(i=>!a.includes(i));return t.entry.playerCount.max-Er-s.length-e().filter(i=>!i.markedForDeletion).length}function r(){const{start:a,end:s}=t.entry.slot;return t.reservedTimeRanges.filter(l=>Ar({from:a,to:s},l.range)).filter(l=>l.gameUuid!==t.entry.uuid).length===0}return(()=>{var a=h(hr),s=a.firstChild,i=s.nextSibling,l=i.firstChild,o=l.firstChild,d=o.nextSibling,c=d.nextSibling,[p,C]=R(c.nextSibling),T=p.nextSibling,I=T.nextSibling,[j,G]=R(I.nextSibling);j.nextSibling;var Z=l.nextSibling,ue=Z.firstChild,se=ue.nextSibling,ne=se.nextSibling,[ce,fe]=R(ne.nextSibling),$e=ce.nextSibling,it=$e.nextSibling,[dn,un]=R(it.nextSibling),lt=Z.nextSibling,cn=lt.firstChild,fn=cn.nextSibling,hn=fn.nextSibling,[mn,gn]=R(hn.nextSibling),vn=lt.nextSibling,[_n,pn]=R(vn.nextSibling),Ze=i.nextSibling,yn=Ze.firstChild,[Tt,bn]=R(yn.nextSibling),xn=Tt.nextSibling,[$n,kn]=R(xn.nextSibling),Sn=Ze.nextSibling,[wn,Rn]=R(Sn.nextSibling);return b(s,()=>t.entry.title===null?t.entry.system:`${t.entry.title} (${t.entry.system})`),b(l,()=>t.entry.slot.start,p,C),b(l,()=>t.entry.slot.end,j,G),b(Z,()=>t.entry.master.first,ce,fe),b(Z,()=>t.entry.master.last,dn,un),b(lt,(()=>{var H=y(()=>n()>1);return()=>H()?(()=>{var V=h(mr),A=V.firstChild,z=A.nextSibling,O=z.firstChild,[P,re]=R(O.nextSibling);return P.nextSibling,b(z,n,P,re),V})():(()=>{var V=y(()=>n()===1);return()=>V()?(()=>{var A=h(gr),z=A.firstChild,O=z.nextSibling,P=O.firstChild,[re,q]=R(P.nextSibling);return re.nextSibling,b(O,n,re,q),A})():"Diese Spielrunde ist bereits voll besetzt."})()})(),mn,gn),b(i,(()=>{var H=y(()=>n()>0&&!r());return()=>H()?h(vr):null})(),_n,pn),b(Ze,(()=>{var H=y(()=>t.entry.description!==null&&t.entry.description.trim().length>0);return()=>H()?(()=>{var V=h(_r),A=V.firstChild,z=A.firstChild,O=z.nextSibling,P=O.nextSibling,[re,q]=R(P.nextSibling);return b(A,()=>t.entry.description,re,q),V})():null})(),Tt,bn),b(Ze,(()=>{var H=y(()=>e().length>0);return()=>H()?(()=>{var V=h(pr),A=V.firstChild,z=A.nextSibling;return b(z,()=>e().map(O=>(()=>{var P=h(yr);return b(P,(()=>{var re=y(()=>!!O.markedForDeletion);return()=>re()?[(()=>{var q=h(br);return b(q,()=>O.name),q})(),h(Ut)]:[y(()=>O.name),y(()=>y(()=>!!O.confirmed)()?null:h(Ut)),(()=>{var q=h(xr);return q.$$click=()=>t.deleteReservation(O),Ne(),q})()]})()),P})())),V})():null})(),$n,kn),b(a,(()=>{var H=y(()=>!!(n()>0&&r()));return()=>H()?(()=>{var V=y(()=>e().filter(A=>!A.markedForDeletion).length===0);return()=>V()?(()=>{var A=h($r),z=A.firstChild,O=z.firstChild;return O.$$click=()=>t.addTentativeReservation({gameUuid:t.entry.uuid,friendsName:null}),Ne(),A})():(()=>{var A=h(kr),z=A.firstChild,O=z.firstChild;return O.$$click=()=>{const P=prompt("Bitte teile uns mit, wie deine Begleitung heisst:");P!==null&&P.trim().length>0&&t.addTentativeReservation({gameUuid:t.entry.uuid,friendsName:P})},Ne(),A})()})():null})(),wn,Rn),ge(()=>gt(a,`event-entry ${e().filter(H=>!H.markedForDeletion).length>0?"success":n()>0&&r()?"special":"gray"}`)),a})()}function Ir(t){const e=t.confirmedReservations.filter(s=>!t.markedForDeletionReservations.includes(s.id)).map(s=>s.game);e.push(...t.tentativeReservations.map(s=>s.gameUuid));const n=new Set(e);return t.programByHour.flatMap(([s,i])=>i).filter(s=>n.has(s.uuid)).map(s=>({range:{from:s.slot.start,to:s.slot.end},gameUuid:s.uuid}))}function Dr(t){const e={MORNING:[],AFTERNOON:[],EVENING:[]};return t.forEach(n=>{const r=Number(n[0]);r<13?e.MORNING.push(n):r<18?e.AFTERNOON.push(n):e.EVENING.push(n)}),e}function nn(t){const[e,n]=Lt([]);function r(d){n(c=>c.includes(d)?c.filter(p=>p!==d):[...c,d])}const a=()=>Ir({programByHour:t.programByHour,confirmedReservations:t.confirmedReservations,tentativeReservations:t.tentativeReservations,markedForDeletionReservations:t.markedForDeletionReservations}),{MORNING:s,AFTERNOON:i,EVENING:l}=Dr(t.programByHour);function o(d){return y(()=>d.program.filter(([c])=>e().includes(c)||e().length===0).map(([c,p])=>[(()=>{var C=h(Sr),T=C.firstChild,I=T.nextSibling,[j,G]=R(I.nextSibling);return j.nextSibling,b(C,c,j,G),C})(),(()=>{var C=h(wr);return b(C,()=>p.map(T=>g(Or,{entry:T,get selfName(){return t.selfName},get confirmedReservations(){return t.confirmedReservations.filter(I=>I.game===T.uuid)},get tentativeReservations(){return t.tentativeReservations.filter(I=>I.gameUuid===T.uuid)},get markedForDeletionReservations(){return t.markedForDeletionReservations},get reservedTimeRanges(){return a()},get addTentativeReservation(){return t.addTentativeReservation},get deleteReservation(){return t.deleteReservation}}))),C})()]))}return[h(Rr),h(Nr),h(Zt),g(lr,{get checked(){return t.wantsEmailUpdates},onValueUpdate:d=>t.updateSave("wantsEmailUpdates",d),label:"Ja, ich möchte gerne Updates erhalten, wenn neue Spielrunden aufgeschaltet werden.",name:"wantsUpdates",value:"true"}),h(Zt),(()=>{var d=h(Tr),c=d.firstChild,p=c.nextSibling,C=p.firstChild,T=C.firstChild,I=C.nextSibling,[j,G]=R(I.nextSibling);return T.$$click=()=>n([]),b(p,()=>t.programByHour.map(([Z,ue])=>(()=>{var se=h(Cr),ne=se.firstChild,ce=ne.firstChild,[fe,$e]=R(ce.nextSibling);return fe.nextSibling,ne.$$click=()=>r(Z),b(ne,Z,fe,$e),ge(()=>gt(ne,e().includes(Z)?"active":"")),Ne(),se})()),j,G),ge(()=>gt(T,e().length===0?"active":"")),Ne(),d})(),g(o,{program:s}),(()=>{var d=h(Pt);return b(d,g(tt,{type:"LUNCH"})),d})(),g(o,{program:i}),y(()=>y(()=>l.length>0)()?[(()=>{var d=h(Pt);return b(d,g(tt,{type:"DINNER"})),d})(),g(o,{program:l})," "]:null)]}Tn(["click"]);function jr(t){const e=tn("SATURDAY",t.program);return g(nn,{get selfName(){return t.selfName},programByHour:e,get confirmedReservations(){return t.confirmedReservations},get tentativeReservations(){return t.tentativeReservations},get markedForDeletionReservations(){return t.markedForDeletionReservations},get wantsEmailUpdates(){return t.wantsEmailUpdates},get addTentativeReservation(){return t.addTentativeReservation},get updateSave(){return t.updateSave},get deleteReservation(){return t.deleteReservation}})}function Ur(t){const e=tn("SUNDAY",t.program);return g(nn,{get selfName(){return t.selfName},programByHour:e,get confirmedReservations(){return t.confirmedReservations},get tentativeReservations(){return t.tentativeReservations},get markedForDeletionReservations(){return t.markedForDeletionReservations},get wantsEmailUpdates(){return t.wantsEmailUpdates},get addTentativeReservation(){return t.addTentativeReservation},get updateSave(){return t.updateSave},get deleteReservation(){return t.deleteReservation}})}var Zr=_("<p><strong><!$><!/> </strong>| <!$><!/>, <!$><!/> bis <!$><!/> Uhr"),Pr=_("<p>Reservation für <strong>"),Mr=_("<ul role=list style=display:grid;gap:.5rem;>"),Lr=_("<li>"),Mt=_("<div style=max-inline-size:60ch;>"),Vr=_("<h3>Kontaktdaten"),zr=_("<ul><li><strong>Name:</strong> <!$><!/></li><li><strong>E-Mail:</strong> <!$><!/></li><li><strong>Handynummer:</strong> <!$><!/>"),Br=_("<br>"),Fr=_("<h3>Deine Reservationen"),Gr=_("<p>Weitere Spielrunden sind spontan verfügbar - wir halten immer einige Plätze frei."),Hr=_("<p><em>Noch keine Reservationen getätigt."),Wr=_("<h4>Unbestätigt"),Yr=_("<p>Bitte speichere deinen aktuellen Stand der Anmeldung, damit wir die folgenden Reservationen bestätigen können."),ft=_("<h5>Samstag, 24. August 2024"),ht=_("<h5>Sonntag, 25. August 2024"),qr=_("<h4>Reservationen, die du entfernen möchtest"),Jr=_("<p>Bitte speichere deinen aktuellen Stand der Anmeldung, damit wir die folgenden Reservationen entfernen können."),Kr=_("<h4>Bestätigt");function Xr(t){const{game:e}=t;return g(B,{get type(){return t.type??"gray"},get children(){return[(()=>{var n=h(Zr),r=n.firstChild,a=r.firstChild,[s,i]=R(a.nextSibling);s.nextSibling;var l=r.nextSibling,o=l.nextSibling,[d,c]=R(o.nextSibling),p=d.nextSibling,C=p.nextSibling,[T,I]=R(C.nextSibling),j=T.nextSibling,G=j.nextSibling,[Z,ue]=R(G.nextSibling);return Z.nextSibling,b(r,()=>e.title===null?e.system:`${e.title} (${e.system})`,s,i),b(n,()=>e.slot.day==="SATURDAY"?"Samstag":"Sonntag",d,c),b(n,()=>e.slot.start,T,I),b(n,()=>e.slot.end,Z,ue),n})(),(()=>{var n=h(Pr),r=n.firstChild,a=r.nextSibling;return b(a,()=>t.players.join(", ")),n})()]}})}function mt(t,e){const n=[],r=[];for(const a of t){const s=e.gameList.find(i=>i.uuid===a.gameUuid);s?.slot.day==="SATURDAY"&&n.push({reservation:a,game:s}),s?.slot.day==="SUNDAY"&&r.push({reservation:a,game:s})}return{SATURDAY:n.toSorted((a,s)=>a.game.slot.start<s.game.slot.start?-1:1),SUNDAY:r.toSorted((a,s)=>a.game.slot.start<s.game.slot.start?-1:1)}}function Qr(t,e){const n=Object.groupBy(t,r=>r.game.uuid);return Object.values(n).map(r=>{const a=r?.[0];return r===void 0||a===void 0?null:{game:a.game,players:r.map(s=>s.reservation.friendsName??e)}}).filter(r=>r!==null)}function ea(t){const e={MORNING:[],AFTERNOON:[],EVENING:[]};return t.forEach(n=>{const r=n.game.slot.start;r<13?e.MORNING.push(n):r<18?e.AFTERNOON.push(n):e.EVENING.push(n)}),e}function he(t){const e=Qr(t.entries,t.selfName),{MORNING:n,AFTERNOON:r,EVENING:a}=ea(e),s=t.entries[0]?.game.slot.day==="SATURDAY";function i(l){return(()=>{var o=h(Mr);return b(o,()=>l.entries.map(d=>(()=>{var c=h(Lr);return b(c,g(Xr,{get game(){return d.game},get players(){return d.players},get type(){return t.type}})),c})())),o})()}return[y(()=>y(()=>n.length>0)()?g(i,{entries:n}):null),y(()=>y(()=>n.length>0||r.length>0)()?(()=>{var l=h(Mt);return b(l,g(tt,{type:"LUNCH",small:!0})),l})():null),y(()=>y(()=>r.length>0)()?g(i,{entries:r}):null),y(()=>y(()=>!!(s&&(r.length>0||a.length>0)))()?(()=>{var l=h(Mt);return b(l,g(tt,{type:"DINNER",small:!0})),l})():null),y(()=>y(()=>a.length>0)()?g(i,{entries:a}):null)]}function ta(t){const{con:e,del:n}=t.save.games.reduce((i,l)=>t.markedForDeletionReservations.includes(l.id)?{...i,del:[...i.del,l]}:{...i,con:[...i.con,l]},{con:[],del:[]}),r=mt(e.map(i=>({gameUuid:i.game,friendsName:i.spielerName})),t.program),a=mt(n.map(i=>({gameUuid:i.game,friendsName:i.spielerName})),t.program),s=mt(t.tentativeReservations,t.program);return[h(Vr),(()=>{var i=h(zr),l=i.firstChild,o=l.firstChild,d=o.nextSibling,c=d.nextSibling,[p,C]=R(c.nextSibling),T=l.nextSibling,I=T.firstChild,j=I.nextSibling,G=j.nextSibling,[Z,ue]=R(G.nextSibling),se=T.nextSibling,ne=se.firstChild,ce=ne.nextSibling,fe=ce.nextSibling,[$e,it]=R(fe.nextSibling);return b(l,()=>t.save.name,p,C),b(T,()=>t.save.email,Z,ue),b(se,()=>t.save.handynummer,$e,it),i})(),h(Br),h(Fr),y(()=>y(()=>t.save.games.length===0&&t.tentativeReservations.length===0)()?h(Hr):null),y(()=>y(()=>t.tentativeReservations.length>0)()?[h(Wr),h(Yr),y(()=>y(()=>s.SATURDAY.length>0)()?[h(ft),g(he,{get entries(){return s.SATURDAY},get selfName(){return t.save.name},type:"special"})]:null),y(()=>y(()=>s.SUNDAY.length>0)()?[h(ht),g(he,{get entries(){return s.SUNDAY},get selfName(){return t.save.name},type:"special"})]:null)]:null),y(()=>y(()=>n.length>0)()?[h(qr),h(Jr),y(()=>y(()=>a.SATURDAY.length>0)()?[h(ft),g(he,{get entries(){return a.SATURDAY},get selfName(){return t.save.name},type:"danger"})]:null),y(()=>y(()=>a.SUNDAY.length>0)()?[h(ht),g(he,{get entries(){return a.SUNDAY},get selfName(){return t.save.name},type:"danger"})]:null)]:null),y(()=>y(()=>e.length>0)()?[h(Kr),y(()=>y(()=>r.SATURDAY.length>0)()?[h(ft),g(he,{get entries(){return r.SATURDAY},get selfName(){return t.save.name},type:"success"})]:null),y(()=>y(()=>r.SUNDAY.length>0)()?[h(ht),g(he,{get entries(){return r.SUNDAY},get selfName(){return t.save.name},type:"success"})]:null)]:null),g(B,{type:"special",get children(){return h(Gr)}})]}var na=_("<div style=display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:1rem;><div>Zuletzt gespeichert am <!$><!/>"),ra=_('<div style="padding-block:2rem 1rem;bottom:0;background-image:linear-gradient(transparent, var(--clr-3) 25%);">'),aa=_("<div style=padding-block:1rem;>"),sa=_("<h2>Programm Samstag"),ia=_("<h2>Programm Sonntag"),la=_("<div class=content><h2>Zusammenfassung</h2><small>Hier hast du die komplette Übersicht über alle deine Eingaben.</small><!$><!/>");function oa(t){const e=new Intl.DateTimeFormat("de-CH",{timeStyle:"short",dateStyle:"long"});return g(Vt,{get type(){return t.state==="HAS_CHANGES"?"success":"gray"},get children(){var n=h(na),r=n.firstChild,a=r.firstChild,s=a.nextSibling,[i,l]=R(s.nextSibling);return b(r,()=>e.format(new Date(t.lastSaved)),i,l),n}})}function da(t){return(()=>{var e=h(aa);return b(e,g(Vt,{get children(){return[y(()=>y(()=>t.activeTab==="Contact")()?g(Dn,{get save(){return t.save},get updateSave(){return t.updateSave}}):y(()=>t.activeTab==="Saturday")()?[h(sa),g(Me,{get fallback(){return g(B,{children:"Programm wird geladen ..."})},get children(){return g(Te,{get children(){return g(Ce,{get when(){return t.programResource()},children:n=>g(jr,{get selfName(){return t.save.name},get program(){return n()},get wantsEmailUpdates(){return t.save.wantsEmailUpdates},get confirmedReservations(){return t.confirmedReservations},get tentativeReservations(){return t.tentativeReservations},get markedForDeletionReservations(){return t.markedForDeletionReservations},get addTentativeReservation(){return t.addTentativeReservation},get updateSave(){return t.updateSave},get deleteReservation(){return t.deleteReservation}})})}})}})]:y(()=>t.activeTab==="Sunday")()?[h(ia),g(Me,{get fallback(){return g(B,{children:"Programm wird geladen ..."})},get children(){return g(Te,{get children(){return g(Ce,{get when(){return t.programResource()},children:n=>g(Ur,{get selfName(){return t.save.name},get program(){return n()},get wantsEmailUpdates(){return t.save.wantsEmailUpdates},get confirmedReservations(){return t.confirmedReservations},get tentativeReservations(){return t.tentativeReservations},get markedForDeletionReservations(){return t.markedForDeletionReservations},get addTentativeReservation(){return t.addTentativeReservation},get updateSave(){return t.updateSave},get deleteReservation(){return t.deleteReservation}})})}})}})]:(()=>{var n=h(la),r=n.firstChild,a=r.nextSibling,s=a.nextSibling,[i,l]=R(s.nextSibling);return b(n,g(Me,{get fallback(){return g(B,{children:"Zusammenfassung wird geladen ..."})},get children(){return g(Te,{get children(){return g(Ce,{get when(){return t.programResource()},children:o=>g(ta,{get save(){return t.save},get tentativeReservations(){return t.tentativeReservations},get program(){return o()},get markedForDeletionReservations(){return t.markedForDeletionReservations}})})}})}}),i,l),n})()),(()=>{var n=h(ra);return b(n,g(oa,{get lastSaved(){return t.lastSaved},get saveCurrentState(){return t.saveCurrentState},get state(){return t.saveState}})),n})()]}})),e})()}const Rt=Symbol("store-raw"),pe=Symbol("store-node"),K=Symbol("store-has"),rn=Symbol("store-self");function an(t){let e=t[le];if(!e&&(Object.defineProperty(t,le,{value:e=new Proxy(t,fa)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let a=0,s=n.length;a<s;a++){const i=n[a];r[i].get&&Object.defineProperty(t,i,{enumerable:r[i].enumerable,get:r[i].get.bind(e)})}}return e}function nt(t){let e;return t!=null&&typeof t=="object"&&(t[le]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function je(t,e=new Set){let n,r,a,s;if(n=t!=null&&t[Rt])return n;if(!nt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let i=0,l=t.length;i<l;i++)a=t[i],(r=je(a,e))!==a&&(t[i]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const i=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let o=0,d=i.length;o<d;o++)s=i[o],!l[s].get&&(a=t[s],(r=je(a,e))!==a&&(t[s]=r))}return t}function rt(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function Ue(t,e,n){if(t[e])return t[e];const[r,a]=Lt(n,{equals:!1,internal:!0});return r.$=a,t[e]=r}function ua(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===le||e===pe||(delete n.value,delete n.writable,n.get=()=>t[le][e]),n}function sn(t){vt()&&Ue(rt(t,pe),rn)()}function ca(t){return sn(t),Reflect.ownKeys(t)}const fa={get(t,e,n){if(e===Rt)return t;if(e===le)return n;if(e===Ct)return sn(t),n;const r=rt(t,pe),a=r[e];let s=a?a():t[e];if(e===pe||e===K||e==="__proto__")return s;if(!a){const i=Object.getOwnPropertyDescriptor(t,e);vt()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(i&&i.get)&&(s=Ue(r,e,s)())}return nt(s)?an(s):s},has(t,e){return e===Rt||e===le||e===Ct||e===pe||e===K||e==="__proto__"?!0:(vt()&&Ue(rt(t,K),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ca,getOwnPropertyDescriptor:ua};function at(t,e,n,r=!1){if(!r&&t[e]===n)return;const a=t[e],s=t.length;n===void 0?(delete t[e],t[K]&&t[K][e]&&a!==void 0&&t[K][e].$()):(t[e]=n,t[K]&&t[K][e]&&a===void 0&&t[K][e].$());let i=rt(t,pe),l;if((l=Ue(i,e,a))&&l.$(()=>n),Array.isArray(t)&&t.length!==s){for(let o=t.length;o<s;o++)(l=i[o])&&l.$();(l=Ue(i,"length",s))&&l.$(t.length)}(l=i[rn])&&l.$()}function ln(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const a=n[r];at(t,a,e[a])}}function ha(t,e){if(typeof e=="function"&&(e=e(t)),e=je(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const a=e[n];t[n]!==a&&at(t,n,a)}at(t,"length",r)}else ln(t,e)}function Re(t,e,n=[]){let r,a=t;if(e.length>1){r=e.shift();const i=typeof r,l=Array.isArray(t);if(Array.isArray(r)){for(let o=0;o<r.length;o++)Re(t,[r[o]].concat(e),n);return}else if(l&&i==="function"){for(let o=0;o<t.length;o++)r(t[o],o)&&Re(t,[o].concat(e),n);return}else if(l&&i==="object"){const{from:o=0,to:d=t.length-1,by:c=1}=r;for(let p=o;p<=d;p+=c)Re(t,[p].concat(e),n);return}else if(e.length>1){Re(t[r],e,[r].concat(n));return}a=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(a,n),s===a)||r===void 0&&s==null||(s=je(s),r===void 0||nt(a)&&nt(s)&&!Array.isArray(s)?ln(a,s):at(t,r,s))}function ma(...[t,e]){const n=je(t||{}),r=Array.isArray(n),a=an(n);function s(...i){Cn(()=>{r&&i.length===1?ha(n,i[0]):Re(n,i)})}return[a,s]}function ga(){const t=new URL(location.href),e=t.searchParams.get("secret"),n=t.searchParams.get("showCreateMessage")==="true";return{secret:e,showCreateMessage:n}}async function on(t){if(t.secret===null)throw Error("SECRET_ERROR");const e=await nr(t.secret);if(e.kind==="FAILED")throw Error("SECRET_ERROR");return{state:"IDLE",secret:t.secret,showCreateMessage:t.showCreateMessage,currentSave:e.save,activeTab:"Contact",lastSaved:e.save.lastSaved,hasChanged:!1,tentativeReservations:[],markedForDeletionReservations:[]}}async function va(){const t=await sr();if(t.kind==="FAILED")throw Error("PROGRAM_ERROR");return t.program}function _a(t){const[e,n]=ma(t);function r(o){n("activeTab",o),window.scrollTo({top:0})}function a(o,d){n("hasChanged",!0),n("currentSave",o,d)}async function s(){if(e.state!=="IDLE")throw Error("ASSERTION_ERROR");n("state","SAVING");const o=new URL("https://elysium.gildedernacht.ch/rst24/save"),d={...e.currentSave,games:[...e.currentSave.games.filter(p=>!e.markedForDeletionReservations.includes(p.id)),...e.tentativeReservations.map(p=>p.friendsName===null?{game:p.gameUuid,self:!0,spielerName:null}:{game:p.gameUuid,self:!1,spielerName:p.friendsName})]};if((await fetch(o,{method:"post",body:JSON.stringify(d),headers:{"Content-Type":"application/json"}})).ok){const p=await on({secret:e.secret,showCreateMessage:!1});n({...p,activeTab:e.activeTab})}else throw Error("SAVE_ERROR")}function i(o){n("hasChanged",!0),n("tentativeReservations",d=>[...d,o])}function l(o){if(n("hasChanged",!0),o.confirmed)n("markedForDeletionReservations",d=>[...d,o.reservationId]);else{const d=e.currentSave.name;n("tentativeReservations",c=>c.filter(p=>p.gameUuid!==o.gameUuid?!0:p.friendsName===o.name?!1:o.name!==d))}}return{state:e,actions:{changeTab:r,updateSave:a,saveCurrentState:s,addTentativeReservation:i,deleteReservation:l}}}var pa=_("<p>Wir konnten leider keine Anmeldung finden. Wenn du bereits eine Anmeldung begonnen hast, solltest du den korrekten Link per E-Mail erhalten haben.<br><br>Für generelle Fragen oder Probleme, schreibe uns doch bitte über unser <a href=/kontatk>Kontaktformular</a>."),ya=_("<p>Leider ist ein unerwarteter Fehler passiert. Versuche deine Anmeldung erneut zu laden. Wiederholt sich dieser Fehler, bitte kontaktiere uns sobald als möglich über das <a href=/kontakt>Kontaktformular</a>, da dies nicht passieren sollte."),ba=_("<p>Deine Anmeldung wird geladen...");function xa(t){const{state:e,actions:n}=_a(t.state);return g(da,{activeTab:"Summary",get changeTab(){return n.changeTab},get save(){return e.currentSave},get updateSave(){return n.updateSave},get lastSaved(){return e.lastSaved},get saveCurrentState(){return n.saveCurrentState},get saveState(){return e.state==="SAVING"?"SAVING":e.hasChanged?"HAS_CHANGES":"NO_CHANGES"},get programResource(){return t.programResource},get confirmedReservations(){return e.currentSave.games},get tentativeReservations(){return e.tentativeReservations},get addTentativeReservation(){return n.addTentativeReservation},get deleteReservation(){return n.deleteReservation},get markedForDeletionReservations(){return e.markedForDeletionReservations}})}function Sa(){const t=ga(),[e]=Et(()=>on(t)),[n]=Et(()=>va());return g(En,{fallback:r=>g(B,{type:"danger",get children(){return g(Te,{get fallback(){return h(ya)},get children(){return g(Ce,{get when(){return r.message==="SECRET_ERROR"},get children(){return h(pa)}})}})}}),get children(){return g(Me,{get fallback(){return g(B,{get children(){return h(ba)}})},get children(){return g(Te,{get children(){return g(Ce,{get when(){return e()},children:r=>g(xa,{get state(){return r()},programResource:n})})}})}})}})}export{Sa as MeineAnmeldung};
