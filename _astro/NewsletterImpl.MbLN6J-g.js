import{g as u,i as m,c as t,F as b,a as F,b as $,t as s,s as I,d as k,e as q,f as y,S as g}from"./web.COOY7uTR.js";import{I as S,B as p,H as D,F as C}from"./Box.BVhvBYbn.js";var G=s("<ul role=list class=checkbox-list>"),z=s("<li>"),H=s("<label class=input-checkbox><input type=checkbox><!$><!/>");function W(l){return(()=>{var n=u(G);return m(n,t(b,{get each(){return l.items},children:a=>(()=>{var c=u(z);return m(c,t(J,{get label(){return a.label},get name(){return a.name},get value(){return a.value},get checked(){return a.checked},onValueUpdate:d=>l.onValueUpdate(a.value,d)})),c})()})),n})()}function J(l){return(()=>{var n=u(H),a=n.firstChild,c=a.nextSibling,[d,v]=F(c.nextSibling);return a.addEventListener("change",N=>l.onValueUpdate(N.target.checked)),m(n,()=>l.label,d,v),$(()=>I(a,"name",l.name)),$(()=>k(a,"value",l.value)),$(()=>k(a,"checked",l.checked)),n})()}var j=s("<ul role=list class=radio-list>"),K=s("<li>"),Q=s("<label class=input-radio><input type=radio><!$><!/>");function X(l){return(()=>{var n=u(j);return m(n,t(b,{get each(){return l.items},children:a=>(()=>{var c=u(K);return m(c,t(Y,{get label(){return a.label},get name(){return a.label},get value(){return a.value},get checked(){return a.checked},onValueUpdate:()=>l.onValueUpdate(a.value)})),c})()})),n})()}function Y(l){return(()=>{var n=u(Q),a=n.firstChild,c=a.nextSibling,[d,v]=F(c.nextSibling);return q(a,"change",l.onValueUpdate),m(n,()=>l.label,d,v),$(()=>I(a,"name",l.name)),$(()=>k(a,"value",l.value)),$(()=>k(a,"checked",l.checked)),n})()}var Z=s("<h2>Thema"),ee=s("<p>Wähle mindestens ein Thema aus, das dich interessiert.<br>Ansonsten wirst du keine E-Mails erhalten."),te=s("<h2>Häufigkeit"),re=s("<p>Wenn du dich für weniger häufigere E-Mails entscheidest <em>(maximal 8 E-Mails / Jahr)</em>,<br>werden wir dich hauptsächlich über grössere Events informieren."),M=s("<br>"),_=s("<p>");const ne=new URL("https://gildedernacht.us9.list-manage.com/subscribe/post?u=ac8c826d7db864c54a3c2f001&amp;id=c6bec31754");function x(l){return{firstName:"",lastName:"",email:"",themeBrettspiele:l.theme==="Brettspiele",themeRollenspiele:l.theme==="Rollenspiele",themeTabletop:l.theme==="Tabletop",frequency:l.frequenzy??"selten"}}function R(){return{firstName:[],lastName:[],email:[],themeBrettspiele:[],themeRollenspiele:[],themeTabletop:[],frequency:[]}}function ie(l){const[n,a]=y(x(l)),[c,d]=y(!1),[v,N]=y(!1);function o(r){return e=>{N(!1),f(R()),a(h=>({...h,[r]:e}))}}const E={BRETTSPIELE:"128",ROLLENSPIELE:"256",TABLETOP:"512"},V=()=>({items:[{label:"Brettspiele",name:"group[48105][128]",value:E.BRETTSPIELE,checked:n().themeBrettspiele},{label:"Rollenspiele",name:"group[48105][256]",value:E.ROLLENSPIELE,checked:n().themeRollenspiele},{label:"Tabletop",name:"group[48105][512]",value:E.TABLETOP,checked:n().themeTabletop}],onValueUpdate:(r,e)=>{switch(r){case E.BRETTSPIELE:o("themeBrettspiele")(e);break;case E.ROLLENSPIELE:o("themeRollenspiele")(e);break;case E.TABLETOP:o("themeTabletop")(e);break}}}),T={OFT:"1024",SELTEN:"2048"},L=()=>({items:[{label:"maximal 2 E-Mails / Monat",value:T.OFT,checked:n().frequency==="oft"},{label:"maximal 8 E-Mails / Jahr",value:T.SELTEN,checked:n().frequency==="selten"}],name:"group[48109]",onValueUpdate:r=>{switch(r){case T.OFT:o("frequency")("oft");break;case T.SELTEN:o("frequency")("selten");break}}});let B,U,w;const[i,f]=y(R());function P(r){if(f(R()),n().firstName.trim().length===0&&f(e=>({...e,firstName:["Dies ist ein Pflichtfeld."]})),n().lastName.trim().length===0&&f(e=>({...e,lastName:["Dies ist ein Pflichtfeld."]})),n().email.trim().length===0){const e="Dies ist ein Pflichtfeld.";f(h=>({...h,email:[...h.email,e]}))}if(w.validity.typeMismatch){const e="Die Eingabe scheint keine gültige E-Mail-Adresse zu sein.";f(h=>({...h,email:[...h.email,e]}))}if(!(n().themeBrettspiele||n().themeRollenspiele||n().themeTabletop)){const e="Mindestens ein Thema muss ausgewählt werden, um E-Mails zu erhalten.";f(h=>({...h,themeTabletop:[...h.themeTabletop,e]}))}return i().firstName.length===0&&i().lastName.length===0&&i().email.length===0&&i().themeBrettspiele.length===0&&i().themeRollenspiele.length===0&&i().themeTabletop.length===0&&i().frequency.length===0}function A(){d(!0),a(x(l))}function O(r){N(!0),console.error(r)}return[t(C,{actionUrl:ne,submitLabel:"Abonnieren",isValid:P,onSuccess:A,onError:O,get children(){return[t(S,{label:"Vorname",name:"FNAME",get value(){return n().firstName},get onValueUpdate(){return o("firstName")},ref(r){var e=B;typeof e=="function"?e(r):B=r}}),t(g,{get when(){return i().firstName.length>0},get children(){return t(p,{type:"danger",get children(){return t(b,{get each(){return i().firstName},children:r=>(()=>{var e=u(_);return m(e,r),e})()})}})}}),t(S,{label:"Nachname",name:"LNAME",get value(){return n().lastName},get onValueUpdate(){return o("lastName")},ref(r){var e=U;typeof e=="function"?e(r):U=r}}),t(g,{get when(){return i().lastName.length>0},get children(){return t(p,{type:"danger",get children(){return t(b,{get each(){return i().lastName},children:r=>(()=>{var e=u(_);return m(e,r),e})()})}})}}),t(S,{label:"E-Mail-Adressse",type:"email",name:"EMAIL",get value(){return n().email},get onValueUpdate(){return o("email")},ref(r){var e=w;typeof e=="function"?e(r):w=r}}),t(g,{get when(){return i().email.length>0},get children(){return t(p,{type:"danger",get children(){return t(b,{get each(){return i().email},children:r=>(()=>{var e=u(_);return m(e,r),e})()})}})}}),u(Z),u(ee),t(W,{get items(){return V().items},get onValueUpdate(){return V().onValueUpdate}}),t(g,{get when(){return i().themeTabletop.length>0},get children(){return t(p,{type:"danger",get children(){return t(b,{get each(){return i().themeTabletop},children:r=>(()=>{var e=u(_);return m(e,r),e})()})}})}}),u(te),u(re),t(X,{get items(){return L().items},get name(){return L().name},get onValueUpdate(){return L().onValueUpdate}}),t(g,{get when(){return i().frequency.length>0},get children(){return t(p,{type:"danger",get children(){return t(b,{get each(){return i().frequency},children:r=>(()=>{var e=u(_);return m(e,r),e})()})}})}}),t(g,{get when(){return l.referer},children:r=>t(D,{name:"FORMLOC",get value(){return r().href}})})]}}),t(g,{get when(){return v()},get children(){return[u(M),t(p,{type:"danger",children:"Wir hatten mit einigen technischen Problemen zu kämpfen. Bitte versuchen Sie es erneut."})]}}),t(g,{get when(){return c()},get children(){return[u(M),t(p,{type:"success",children:"Du hast dich erfolgreich in unseren Newsletter eingetragen."})]}})]}export{ie as NewsletterImpl};
