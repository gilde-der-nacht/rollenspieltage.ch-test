import{m as P,o as Q,g as f,a as M,i as b,c as w,t as x,u as A,s as S,d as R,r as j,b as I,e as U,f as t,S as m,h as q,F as V,j as B,M as W}from"./web.DIEgmnRw.js";var X=x("<form method=post><!$><!/><button type=submit class=button-accent>");function Y(l){const e=P({language:"de",submitLabel:l.language==="en"?"Submit":"Absenden"},l);let c;Q(()=>{c.setAttribute("novalidate",""),[...c.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(u=>u.remove())});async function _(s){const{target:u}=s;if(u!==null&&u instanceof HTMLFormElement){s.preventDefault();const r=new FormData(u);if(!e.isValid(r))return;try{const o=await fetch(e.actionUrl,{method:"post",body:r});o.ok?e.onSuccess():e.onError(await o.text())}catch(o){e.onError(o)}}}return(()=>{var s=f(X),u=s.firstChild,[r,o]=M(u.nextSibling),a=r.nextSibling,d=c;return typeof d=="function"?A(d,s):c=s,s.addEventListener("submit",_),b(s,()=>e.children,r,o),b(a,()=>e.submitLabel),w(()=>S(s,"action",e.actionUrl.href)),s})()}var Z=x("<label><!$><!/><input>");function N(l){const e=P({type:"text",required:!0,isHoneypot:!1},l);return(()=>{var c=f(Z),_=c.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;b(c,()=>e.label,s,u);var o=e.ref;return typeof o=="function"?A(o,r):e.ref=r,r.$$input=a=>e.onValueUpdate(a.target.value),w(a=>{var d=e.isHoneypot?"honey":"",$=e.type,p=e.name,y=e.label,E=e.required;return d!==a.e&&I(c,a.e=d),$!==a.t&&S(r,"type",a.t=$),p!==a.a&&S(r,"name",a.a=p),y!==a.o&&S(r,"placeholder",a.o=y),E!==a.i&&U(r,"required",a.i=E),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>U(r,"value",e.value)),j(),c})()}R(["input"]);var ee=x("<label><!$><!/><textarea>");function te(l){const e=P({required:!0},l);return(()=>{var c=f(ee),_=c.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;b(c,()=>e.label,s,u);var o=e.ref;return typeof o=="function"?A(o,r):e.ref=r,r.$$input=a=>e.onValueUpdate(a.target.value),w(a=>{var d=e.name,$=e.label,p=e.required;return d!==a.e&&S(r,"name",a.e=d),$!==a.t&&S(r,"placeholder",a.t=$),p!==a.a&&U(r,"required",a.a=p),a},{e:void 0,t:void 0,a:void 0}),w(()=>U(r,"value",e.value)),j(),c})()}R(["input"]);var ne=x("<input type=hidden>");function k(l){return(()=>{var e=f(ne);return w(()=>S(e,"name",l.name)),w(()=>U(e,"value",l.value)),e})()}var re=x('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),ae=x("<div><span></span><!$><!/>");function F(l){return(()=>{var e=f(ae),c=e.firstChild,_=c.nextSibling,[s,u]=M(_.nextSibling);return b(c,()=>l.children),b(e,t(m,{get when(){return l.link!==void 0&&l.linkLabel!==void 0},get children(){var r=f(re),o=r.firstChild,a=o.nextSibling,d=a.nextSibling,[$,p]=M(d.nextSibling);return b(r,()=>l.linkLabel,$,p),w(y=>{var E=l.link??"",L=`button button-small button-${l.type??"gray"}`;return E!==y.e&&S(r,"href",y.e=E),L!==y.t&&I(r,y.t=L),y},{e:void 0,t:void 0}),r}}),s,u),w(()=>I(e,`box-${l.type??"gray"}`)),e})()}var G=x("<br>"),C=x("<p>");function O(){return{name:"",email:"",captcha:"",message:""}}function H(){return{name:[],email:[],captcha:[],message:[]}}const ie=new URL("https://elysium.gildedernacht.ch/forms");function ue(l){const e="Name",c=l.language!=="en"?"E-Mail":"Email",_=l.language!=="en"?"Bitte leer lassen":"leave this field empty",s=l.language!=="en"?"Nachricht":"Message",[u,r]=q(O());let o,a,d,$;const[p,y]=q(!1),[E,L]=q(!1);function z(){r(O()),y(!0)}function J(n){L(!0),console.error(n)}const[h,D]=q(H());function T(n){return i=>{L(!1),D(H()),r(v=>({...v,[n]:i}))}}function K(n){D(H());const i=l.language==="en";if(u().name.trim().length===0){const v=i?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,name:[...g.name,v]}))}if(u().email.trim().length===0){const v=i?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,email:[...g.email,v]}))}if(a.validity.typeMismatch){const v=i?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";D(g=>({...g,email:[...g.email,v]}))}if(u().captcha.trim().length>0){const v=i?"This is field must be empty.":"Dies Feld muss leer bleiben.";D(g=>({...g,captcha:[...g.captcha,v]}))}if(u().message.trim().length===0){const v=i?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,message:[...g.message,v]}))}return h().name.length===0&&h().email.length===0&&h().captcha.length===0&&h().message.length===0}return[t(Y,{actionUrl:ie,get language(){return l.language??"de"},isValid:K,onSuccess:z,onError:J,get children(){return[t(N,{label:e,name:"private-name",get value(){return u().name},get onValueUpdate(){return T("name")},ref(n){var i=o;typeof i=="function"?i(n):o=n}}),t(m,{get when(){return h().name.length>0},get children(){return t(F,{type:"danger",get children(){return t(V,{get each(){return h().name},children:n=>(()=>{var i=f(C);return b(i,n),i})()})}})}}),t(N,{label:c,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return T("email")},ref(n){var i=a;typeof i=="function"?i(n):a=n}}),t(m,{get when(){return h().email.length>0},get children(){return t(F,{type:"danger",get children(){return t(V,{get each(){return h().email},children:n=>(()=>{var i=f(C);return b(i,n),i})()})}})}}),t(N,{label:_,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return T("captcha")},ref(n){var i=d;typeof i=="function"?i(n):d=n}}),t(m,{get when(){return h().captcha.length>0},get children(){return t(F,{type:"danger",get children(){return t(V,{get each(){return h().captcha},children:n=>(()=>{var i=f(C);return b(i,n),i})()})}})}}),t(te,{label:s,name:"private-message",get value(){return u().message},get onValueUpdate(){return T("message")},ref(n){var i=$;typeof i=="function"?i(n):$=n}}),t(m,{get when(){return h().message.length>0},get children(){return t(F,{type:"danger",get children(){return t(V,{get each(){return h().message},children:n=>(()=>{var i=f(C);return b(i,n),i})()})}})}}),t(m,{get when(){return l.language},children:n=>t(k,{name:"language",get value(){return n()}})}),t(m,{get when(){return l.category},children:n=>t(k,{name:"category",get value(){return n()}})}),t(m,{get when(){return l.referer},children:n=>t(k,{name:"referer",get value(){return n().href}})}),t(m,{get when(){return l.redirectOnSuccess},children:n=>t(k,{name:"redirect-on-success",get value(){return n().href}})}),t(m,{get when(){return l.redirectOnFailure},children:n=>t(k,{name:"redirect-on-failure",get value(){return n().href}})})]}}),t(m,{get when(){return E()},get children(){return[f(G),t(F,{type:"danger",get children(){return t(B,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return t(W,{get when(){return l.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),t(m,{get when(){return p()},get children(){return[f(G),t(F,{type:"success",get children(){return t(B,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return t(W,{get when(){return l.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ue as ContactFormImpl};
