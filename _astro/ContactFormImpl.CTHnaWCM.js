import{m as I,o as B,g as v,a as M,i as b,t as w,u as P,d as N,c as x,r as A,b as H,s as D,e as V,f as n,S as f,h as q,F as U,j as G,M as O}from"./web.DIEgmnRw.js";var j=w("<form action=https://elysium.gildedernacht.ch/forms method=post><!$><!/><button type=submit class=button-accent>");const z="https://elysium.gildedernacht.ch/forms";function R(i){const e=I({language:"de",submitLabel:i.language==="en"?"Submit":"Absenden"},i);let o;B(()=>{o.setAttribute("novalidate","")});async function _(s){const{target:u}=s;if(u!==null&&u instanceof HTMLFormElement){s.preventDefault();const r=new FormData(u);if(!e.isValid(r))return;try{const c=await fetch(z,{method:"post",body:r});console.log({response:c})}catch(c){e.onError(c)}}}return(()=>{var s=v(j),u=s.firstChild,[r,c]=M(u.nextSibling),l=r.nextSibling,g=o;return typeof g=="function"?P(g,s):o=s,s.addEventListener("submit",_),b(s,()=>e.children,r,c),b(l,()=>e.submitLabel),s})()}var J=w("<label><!$><!/><input>");function C(i){const e=I({type:"text",required:!0,isHoneypot:!1},i);return(()=>{var o=v(J),_=o.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;b(o,()=>e.label,s,u);var c=e.ref;return typeof c=="function"?P(c,r):e.ref=r,r.$$input=l=>e.onValueUpdate(l.target.value),x(l=>{var g=e.isHoneypot?"honey":"",$=e.type,y=e.name,p=e.label,E=e.required;return g!==l.e&&H(o,l.e=g),$!==l.t&&D(r,"type",l.t=$),y!==l.a&&D(r,"name",l.a=y),p!==l.o&&D(r,"placeholder",l.o=p),E!==l.i&&V(r,"required",l.i=E),l},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),x(()=>V(r,"value",e.value)),A(),o})()}N(["input"]);var K=w("<label><!$><!/><textarea>");function Q(i){const e=I({required:!0},i);return(()=>{var o=v(K),_=o.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;b(o,()=>e.label,s,u);var c=e.ref;return typeof c=="function"?P(c,r):e.ref=r,r.$$input=l=>e.onValueUpdate(l.target.value),x(l=>{var g=e.name,$=e.label,y=e.required;return g!==l.e&&D(r,"name",l.e=g),$!==l.t&&D(r,"placeholder",l.t=$),y!==l.a&&V(r,"required",l.a=y),l},{e:void 0,t:void 0,a:void 0}),x(()=>V(r,"value",e.value)),A(),o})()}N(["input"]);var X=w("<input type=hidden>");function S(i){return(()=>{var e=v(X);return x(()=>D(e,"name",i.name)),x(()=>V(e,"value",i.value)),e})()}var Y=w('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),Z=w("<div><span></span><!$><!/>");function L(i){return(()=>{var e=v(Z),o=e.firstChild,_=o.nextSibling,[s,u]=M(_.nextSibling);return b(o,()=>i.children),b(e,n(f,{get when(){return i.link!==void 0&&i.linkLabel!==void 0},get children(){var r=v(Y),c=r.firstChild,l=c.nextSibling,g=l.nextSibling,[$,y]=M(g.nextSibling);return b(r,()=>i.linkLabel,$,y),x(p=>{var E=i.link??"",T=`button button-small button-${i.type??"gray"}`;return E!==p.e&&D(r,"href",p.e=E),T!==p.t&&H(r,p.t=T),p},{e:void 0,t:void 0}),r}}),s,u),x(()=>H(e,`box-${i.type??"gray"}`)),e})()}var ee=w("<br>"),k=w("<p>");function ne(i){const e="Name",o=i.language==="de"?"E-Mail":"Email",_=i.language==="de"?"Bitte leer lassen":"leave this field empty",s=i.language==="de"?"Nachricht":"Message",[u,r]=q({name:"",email:"",captcha:"",message:""});function c(t){return a=>{r(h=>({...h,[t]:a}))}}let l,g,$,y;const[p,E]=q(!1);function T(t){E(!0),console.error(t)}const[d,F]=q({name:[],email:[],captcha:[],message:[]});function W(t){F({name:[],email:[],captcha:[],message:[]});const a=i.language==="en";if(u().name.trim().length===0){const h=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";F(m=>({...m,name:[...m.name,h]}))}if(u().email.trim().length===0){const h=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";F(m=>({...m,email:[...m.email,h]}))}if(g.validity.typeMismatch){const h=a?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";F(m=>({...m,email:[...m.email,h]}))}if(u().captcha.trim().length>0){const h=a?"This is field must be empty.":"Dies Feld muss leer bleiben.";F(m=>({...m,captcha:[...m.captcha,h]}))}if(u().message.trim().length===0){const h=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";F(m=>({...m,message:[...m.message,h]}))}return console.log(d()),d().name.length===0&&d().email.length===0&&d().captcha.length===0&&d().message.length===0}return[n(R,{get language(){return i.language??"de"},isValid:W,onError:T,get children(){return[n(C,{label:e,name:"private-name",get value(){return u().name},get onValueUpdate(){return c("name")},ref(t){var a=l;typeof a=="function"?a(t):l=t}}),n(f,{get when(){return d().name.length>0},get children(){return n(L,{type:"danger",get children(){return n(U,{get each(){return d().name},children:t=>(()=>{var a=v(k);return b(a,t),a})()})}})}}),n(C,{label:o,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return c("email")},ref(t){var a=g;typeof a=="function"?a(t):g=t}}),n(f,{get when(){return d().email.length>0},get children(){return n(L,{type:"danger",get children(){return n(U,{get each(){return d().email},children:t=>(()=>{var a=v(k);return b(a,t),a})()})}})}}),n(C,{label:_,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return c("captcha")},ref(t){var a=$;typeof a=="function"?a(t):$=t}}),n(f,{get when(){return d().captcha.length>0},get children(){return n(L,{type:"danger",get children(){return n(U,{get each(){return d().captcha},children:t=>(()=>{var a=v(k);return b(a,t),a})()})}})}}),n(Q,{label:s,name:"private-message",get value(){return u().message},get onValueUpdate(){return c("message")},ref(t){var a=y;typeof a=="function"?a(t):y=t}}),n(f,{get when(){return d().message.length>0},get children(){return n(L,{type:"danger",get children(){return n(U,{get each(){return d().message},children:t=>(()=>{var a=v(k);return b(a,t),a})()})}})}}),n(S,{name:"mail-config",value:"disable"}),n(S,{name:"post-config",value:"disable"}),n(f,{get when(){return i.language},children:t=>n(S,{name:"language",get value(){return t()}})}),n(f,{get when(){return i.category},children:t=>n(S,{name:"category",get value(){return t()}})}),n(f,{get when(){return i.referer},children:t=>n(S,{name:"referer",get value(){return t().href}})}),n(f,{get when(){return i.redirectOnSuccess},children:t=>n(S,{name:"redirect-on-success",get value(){return t().href}})}),n(f,{get when(){return i.redirectOnFailure},children:t=>n(S,{name:"redirect-on-failure",get value(){return t().href}})})]}}),n(f,{get when(){return p()},get children(){return[v(ee),n(L,{type:"danger",get children(){return n(G,{fallback:"Unfortunately a technical error has occurred. Please try again.",get children(){return n(O,{get when(){return i.language==="de"},children:"Leider ist ein technischer Fehler passiert. Versuche es bitte nochmals."})}})}})]}})]}export{ne as ContactFormImpl};
