import{m as I,o as J,g as f,a as M,i as b,t as S,u as P,d as G,c as w,r as O,b as H,s as F,e as T,f as e,S as h,h as V,F as C,j as A,M as B}from"./web.DIEgmnRw.js";var K=S("<form action=https://elysium.gildedernacht.ch/forms method=post><!$><!/><button type=submit class=button-accent>");const Q="https://elysium.gildedernacht.ch/forms";function X(i){const t=I({language:"de",submitLabel:i.language==="en"?"Submit":"Absenden"},i);let c;J(()=>{c.setAttribute("novalidate",""),[...c.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(s=>s.remove())});async function p(u){const{target:s}=u;if(s!==null&&s instanceof HTMLFormElement){u.preventDefault();const a=new FormData(s);if(!t.isValid(a))return;try{const o=await fetch(Q,{method:"post",body:a});o.ok?t.onSuccess():t.onError(await o.text())}catch(o){t.onError(o)}}}return(()=>{var u=f(K),s=u.firstChild,[a,o]=M(s.nextSibling),r=a.nextSibling,m=c;return typeof m=="function"?P(m,u):c=u,u.addEventListener("submit",p),b(u,()=>t.children,a,o),b(r,()=>t.submitLabel),u})()}var Y=S("<label><!$><!/><input>");function U(i){const t=I({type:"text",required:!0,isHoneypot:!1},i);return(()=>{var c=f(Y),p=c.firstChild,[u,s]=M(p.nextSibling),a=u.nextSibling;b(c,()=>t.label,u,s);var o=t.ref;return typeof o=="function"?P(o,a):t.ref=a,a.$$input=r=>t.onValueUpdate(r.target.value),w(r=>{var m=t.isHoneypot?"honey":"",y=t.type,_=t.name,$=t.label,x=t.required;return m!==r.e&&H(c,r.e=m),y!==r.t&&F(a,"type",r.t=y),_!==r.a&&F(a,"name",r.a=_),$!==r.o&&F(a,"placeholder",r.o=$),x!==r.i&&T(a,"required",r.i=x),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>T(a,"value",t.value)),O(),c})()}G(["input"]);var Z=S("<label><!$><!/><textarea>");function ee(i){const t=I({required:!0},i);return(()=>{var c=f(Z),p=c.firstChild,[u,s]=M(p.nextSibling),a=u.nextSibling;b(c,()=>t.label,u,s);var o=t.ref;return typeof o=="function"?P(o,a):t.ref=a,a.$$input=r=>t.onValueUpdate(r.target.value),w(r=>{var m=t.name,y=t.label,_=t.required;return m!==r.e&&F(a,"name",r.e=m),y!==r.t&&F(a,"placeholder",r.t=y),_!==r.a&&T(a,"required",r.a=_),r},{e:void 0,t:void 0,a:void 0}),w(()=>T(a,"value",t.value)),O(),c})()}G(["input"]);var te=S("<input type=hidden>");function D(i){return(()=>{var t=f(te);return w(()=>F(t,"name",i.name)),w(()=>T(t,"value",i.value)),t})()}var ne=S('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),ae=S("<div><span></span><!$><!/>");function L(i){return(()=>{var t=f(ae),c=t.firstChild,p=c.nextSibling,[u,s]=M(p.nextSibling);return b(c,()=>i.children),b(t,e(h,{get when(){return i.link!==void 0&&i.linkLabel!==void 0},get children(){var a=f(ne),o=a.firstChild,r=o.nextSibling,m=r.nextSibling,[y,_]=M(m.nextSibling);return b(a,()=>i.linkLabel,y,_),w($=>{var x=i.link??"",k=`button button-small button-${i.type??"gray"}`;return x!==$.e&&F(a,"href",$.e=x),k!==$.t&&H(a,$.t=k),$},{e:void 0,t:void 0}),a}}),u,s),w(()=>H(t,`box-${i.type??"gray"}`)),t})()}var W=S("<br>"),N=S("<p>");function le(i){const t="Name",c=i.language==="de"?"E-Mail":"Email",p=i.language==="de"?"Bitte leer lassen":"leave this field empty",u=i.language==="de"?"Nachricht":"Message",[s,a]=V({name:"",email:"",captcha:"",message:""});let o,r,m,y;const[_,$]=V(!1),[x,k]=V(!1);function j(){a({name:"",email:"",captcha:"",message:""}),$(!0)}function z(n){k(!0),console.error(n)}const[d,E]=V({name:[],email:[],captcha:[],message:[]});function q(n){return l=>{k(!1),E({name:[],email:[],captcha:[],message:[]}),a(v=>({...v,[n]:l}))}}function R(n){E({name:[],email:[],captcha:[],message:[]});const l=i.language==="en";if(s().name.trim().length===0){const v=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,name:[...g.name,v]}))}if(s().email.trim().length===0){const v=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,email:[...g.email,v]}))}if(r.validity.typeMismatch){const v=l?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(g=>({...g,email:[...g.email,v]}))}if(s().captcha.trim().length>0){const v=l?"This is field must be empty.":"Dies Feld muss leer bleiben.";E(g=>({...g,captcha:[...g.captcha,v]}))}if(s().message.trim().length===0){const v=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,message:[...g.message,v]}))}return d().name.length===0&&d().email.length===0&&d().captcha.length===0&&d().message.length===0}return[e(X,{get language(){return i.language??"de"},isValid:R,onSuccess:j,onError:z,get children(){return[e(U,{label:t,name:"private-name",get value(){return s().name},get onValueUpdate(){return q("name")},ref(n){var l=o;typeof l=="function"?l(n):o=n}}),e(h,{get when(){return d().name.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return d().name},children:n=>(()=>{var l=f(N);return b(l,n),l})()})}})}}),e(U,{label:c,name:"private-email",type:"email",get value(){return s().email},get onValueUpdate(){return q("email")},ref(n){var l=r;typeof l=="function"?l(n):r=n}}),e(h,{get when(){return d().email.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return d().email},children:n=>(()=>{var l=f(N);return b(l,n),l})()})}})}}),e(U,{label:p,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return s().captcha},get onValueUpdate(){return q("captcha")},ref(n){var l=m;typeof l=="function"?l(n):m=n}}),e(h,{get when(){return d().captcha.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return d().captcha},children:n=>(()=>{var l=f(N);return b(l,n),l})()})}})}}),e(ee,{label:u,name:"private-message",get value(){return s().message},get onValueUpdate(){return q("message")},ref(n){var l=y;typeof l=="function"?l(n):y=n}}),e(h,{get when(){return d().message.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return d().message},children:n=>(()=>{var l=f(N);return b(l,n),l})()})}})}}),e(D,{name:"mail-config",value:"disable"}),e(D,{name:"post-config",value:"disable"}),e(h,{get when(){return i.language},children:n=>e(D,{name:"language",get value(){return n()}})}),e(h,{get when(){return i.category},children:n=>e(D,{name:"category",get value(){return n()}})}),e(h,{get when(){return i.referer},children:n=>e(D,{name:"referer",get value(){return n().href}})}),e(h,{get when(){return i.redirectOnSuccess},children:n=>e(D,{name:"redirect-on-success",get value(){return n().href}})}),e(h,{get when(){return i.redirectOnFailure},children:n=>e(D,{name:"redirect-on-failure",get value(){return n().href}})})]}}),e(h,{get when(){return x()},get children(){return[f(W),e(L,{type:"danger",get children(){return e(A,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(B,{get when(){return i.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(h,{get when(){return _()},get children(){return[f(W),e(L,{type:"success",get children(){return e(A,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(B,{get when(){return i.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{le as ContactFormImpl};
