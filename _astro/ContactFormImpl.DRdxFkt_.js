import{m as P,o as Q,g as f,a as M,i as $,c as w,t as x,u as A,s as S,d as R,r as j,b as I,e as U,f as t,S as m,h as q,F as V,j as B,M as W}from"./web.DIEgmnRw.js";var X=x("<form method=post><!$><!/><button type=submit class=button-accent>");function Y(i){const e=P({language:"de",submitLabel:i.language==="en"?"Submit":"Absenden"},i);let c;Q(()=>{c.setAttribute("novalidate",""),[...c.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(u=>u.remove())});async function _(s){const{target:u}=s;if(u!==null&&u instanceof HTMLFormElement){s.preventDefault();const r=new FormData(u);if(!e.isValid(r))return;try{const o=await fetch(e.actionUrl,{method:"post",body:r});o.ok?e.onSuccess():e.onError(await o.text())}catch(o){e.onError(o)}}}return(()=>{var s=f(X),u=s.firstChild,[r,o]=M(u.nextSibling),a=r.nextSibling,d=c;return typeof d=="function"?A(d,s):c=s,s.addEventListener("submit",_),$(s,()=>e.children,r,o),$(a,()=>e.submitLabel),w(()=>S(s,"action",e.actionUrl.href)),s})()}var Z=x("<label><!$><!/><input>");function N(i){const e=P({type:"text",required:!0,isHoneypot:!1},i);return(()=>{var c=f(Z),_=c.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;$(c,()=>e.label,s,u);var o=e.ref;return typeof o=="function"?A(o,r):e.ref=r,r.$$input=a=>e.onValueUpdate(a.target.value),w(a=>{var d=e.isHoneypot?"honey":"",y=e.type,p=e.name,v=e.label,E=e.required;return d!==a.e&&I(c,a.e=d),y!==a.t&&S(r,"type",a.t=y),p!==a.a&&S(r,"name",a.a=p),v!==a.o&&S(r,"placeholder",a.o=v),E!==a.i&&U(r,"required",a.i=E),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>U(r,"value",e.value)),j(),c})()}R(["input"]);var ee=x("<label><!$><!/><textarea>");function te(i){const e=P({required:!0},i);return(()=>{var c=f(ee),_=c.firstChild,[s,u]=M(_.nextSibling),r=s.nextSibling;$(c,()=>e.label,s,u);var o=e.ref;return typeof o=="function"?A(o,r):e.ref=r,r.$$input=a=>e.onValueUpdate(a.target.value),w(a=>{var d=e.name,y=e.label,p=e.required;return d!==a.e&&S(r,"name",a.e=d),y!==a.t&&S(r,"placeholder",a.t=y),p!==a.a&&U(r,"required",a.a=p),a},{e:void 0,t:void 0,a:void 0}),w(()=>U(r,"value",e.value)),j(),c})()}R(["input"]);var ne=x("<input type=hidden>");function k(i){return(()=>{var e=f(ne);return w(()=>S(e,"name",i.name)),w(()=>U(e,"value",i.value)),e})()}var re=x('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),ae=x("<div><span></span><!$><!/>");function L(i){return(()=>{var e=f(ae),c=e.firstChild,_=c.nextSibling,[s,u]=M(_.nextSibling);return $(c,()=>i.children),$(e,t(m,{get when(){return i.link!==void 0&&i.linkLabel!==void 0},get children(){var r=f(re),o=r.firstChild,a=o.nextSibling,d=a.nextSibling,[y,p]=M(d.nextSibling);return $(r,()=>i.linkLabel,y,p),w(v=>{var E=i.link??"",F=`button button-small button-${i.type??"gray"}`;return E!==v.e&&S(r,"href",v.e=E),F!==v.t&&I(r,v.t=F),v},{e:void 0,t:void 0}),r}}),s,u),w(()=>I(e,`box-${i.type??"gray"}`)),e})()}var G=x("<br>"),C=x("<p>");function O(){return{name:"",email:"",captcha:"",message:""}}function H(){return{name:[],email:[],captcha:[],message:[]}}const le=new URL("https://elysium.gildedernacht.ch/forms");function ue(i){const e="Name",c=i.language!=="en"?"E-Mail":"Email",_=i.language!=="en"?"Bitte leer lassen":"leave this field empty",s=i.language!=="en"?"Nachricht":"Message",[u,r]=q(O());let o,a,d,y;const[p,v]=q(!1),[E,F]=q(!1);function z(){F(!1),r(O()),v(!0)}function J(n){v(!1),F(!0),console.error(n)}const[h,D]=q(H());function T(n){return l=>{F(!1),D(H()),r(b=>({...b,[n]:l}))}}function K(n){D(H());const l=i.language==="en";if(u().name.trim().length===0){const b=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,name:[...g.name,b]}))}if(u().email.trim().length===0){const b=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,email:[...g.email,b]}))}if(a.validity.typeMismatch){const b=l?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";D(g=>({...g,email:[...g.email,b]}))}if(u().captcha.trim().length>0){const b=l?"This is field must be empty.":"Dies Feld muss leer bleiben.";D(g=>({...g,captcha:[...g.captcha,b]}))}if(u().message.trim().length===0){const b=l?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";D(g=>({...g,message:[...g.message,b]}))}return h().name.length===0&&h().email.length===0&&h().captcha.length===0&&h().message.length===0}return[t(Y,{actionUrl:le,get language(){return i.language??"de"},isValid:K,onSuccess:z,onError:J,get children(){return[t(N,{label:e,name:"private-name",get value(){return u().name},get onValueUpdate(){return T("name")},ref(n){var l=o;typeof l=="function"?l(n):o=n}}),t(m,{get when(){return h().name.length>0},get children(){return t(L,{type:"danger",get children(){return t(V,{get each(){return h().name},children:n=>(()=>{var l=f(C);return $(l,n),l})()})}})}}),t(N,{label:c,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return T("email")},ref(n){var l=a;typeof l=="function"?l(n):a=n}}),t(m,{get when(){return h().email.length>0},get children(){return t(L,{type:"danger",get children(){return t(V,{get each(){return h().email},children:n=>(()=>{var l=f(C);return $(l,n),l})()})}})}}),t(N,{label:_,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return T("captcha")},ref(n){var l=d;typeof l=="function"?l(n):d=n}}),t(m,{get when(){return h().captcha.length>0},get children(){return t(L,{type:"danger",get children(){return t(V,{get each(){return h().captcha},children:n=>(()=>{var l=f(C);return $(l,n),l})()})}})}}),t(te,{label:s,name:"private-message",get value(){return u().message},get onValueUpdate(){return T("message")},ref(n){var l=y;typeof l=="function"?l(n):y=n}}),t(m,{get when(){return h().message.length>0},get children(){return t(L,{type:"danger",get children(){return t(V,{get each(){return h().message},children:n=>(()=>{var l=f(C);return $(l,n),l})()})}})}}),t(m,{get when(){return i.language},children:n=>t(k,{name:"language",get value(){return n()}})}),t(m,{get when(){return i.category},children:n=>t(k,{name:"category",get value(){return n()}})}),t(m,{get when(){return i.referer},children:n=>t(k,{name:"referer",get value(){return n().href}})}),t(m,{get when(){return i.redirectOnSuccess},children:n=>t(k,{name:"redirect-on-success",get value(){return n().href}})}),t(m,{get when(){return i.redirectOnFailure},children:n=>t(k,{name:"redirect-on-failure",get value(){return n().href}})})]}}),t(m,{get when(){return E()},get children(){return[f(G),t(L,{type:"danger",get children(){return t(B,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return t(W,{get when(){return i.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),t(m,{get when(){return p()},get children(){return[f(G),t(L,{type:"success",get children(){return t(B,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return t(W,{get when(){return i.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ue as ContactFormImpl};
