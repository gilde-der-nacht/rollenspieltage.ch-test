import{m as B,o as R,g as d,a as V,i as b,c as e,b as S,s as U,t as D,u as W,d as G,e as k,r as z,f as x,S as m,F as L,h as I,M as N}from"./web.BYqlNwyL.js";import{b as j,I as P,B as w,a as J}from"./Box.BFju1lIk.js";var K=D("<form method=post><!$><!/><!$><!/>");function Q(n){const a=B({language:"de",submitLabel:n.language==="en"?"Submit":"Absenden"},n);let o;R(()=>{o.setAttribute("novalidate",""),[...o.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(i=>i.remove())});async function E(s){const{target:i}=s;if(i!==null&&i instanceof HTMLFormElement){s.preventDefault();const u=new FormData(i);if(!a.isValid(u))return;try{const l=await fetch(a.actionUrl,{method:"post",body:u});l.ok?a.onSuccess():a.onError(await l.text())}catch(l){a.onError(l)}}}return(()=>{var s=d(K),i=s.firstChild,[u,l]=V(i.nextSibling),p=u.nextSibling,[f,y]=V(p.nextSibling),$=o;return typeof $=="function"?W($,s):o=s,s.addEventListener("submit",E),b(s,()=>a.children,u,l),b(s,e(j,{type:"submit",get label(){return a.submitLabel}}),f,y),S(()=>U(s,"action",a.actionUrl.href)),s})()}var X=D("<label><!$><!/><textarea>");function Y(n){const a=B({required:!0},n);return(()=>{var o=d(X),E=o.firstChild,[s,i]=V(E.nextSibling),u=s.nextSibling;return b(o,()=>a.label,s,i),u.$$input=l=>a.onValueUpdate(l.target.value),S(l=>{var p=a.name,f=a.label,y=a.required;return p!==l.e&&U(u,"name",l.e=p),f!==l.t&&U(u,"placeholder",l.t=f),y!==l.a&&k(u,"required",l.a=y),l},{e:void 0,t:void 0,a:void 0}),S(()=>k(u,"value",a.value)),z(),o})()}G(["input"]);var Z=D("<input type=hidden>");function _(n){return(()=>{var a=d(Z);return S(()=>U(a,"name",n.name)),S(()=>k(a,"value",n.value)),a})()}var q=D("<br>"),M=D("<p>");function A(){return{name:"",email:"",captcha:"",message:""}}function T(){return{name:[],email:[],captcha:[],message:[]}}const ee=new URL("https://elysium.gildedernacht.ch/forms");function ne(n){const a="Name",o=n.language!=="en"?"E-Mail":"Email",E=n.language!=="en"?"Bitte leer lassen":"leave this field empty",s=n.language!=="en"?"Nachricht":"Message",[i,u]=x(A());let l;const[p,f]=x(!1),[y,$]=x(!1);function C(){$(!1),u(A()),f(!0)}function H(t){f(!1),$(!0),console.error(t)}const[g,v]=x(T());function F(t){return r=>{$(!1),v(T()),u(h=>({...h,[t]:r}))}}function O(t){v(T());const r=n.language==="en";if(i().name.trim().length===0){const h=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,name:[...c.name,h]}))}if(i().email.trim().length===0){const h=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,email:[...c.email,h]}))}if(l.validity.typeMismatch){const h=r?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";v(c=>({...c,email:[...c.email,h]}))}if(i().captcha.trim().length>0){const h=r?"This is field must be empty.":"Dieses Feld muss leer bleiben.";v(c=>({...c,captcha:[...c.captcha,h]}))}if(i().message.trim().length===0){const h=r?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";v(c=>({...c,message:[...c.message,h]}))}return g().name.length===0&&g().email.length===0&&g().captcha.length===0&&g().message.length===0}return[e(Q,{actionUrl:ee,get language(){return n.language??"de"},isValid:O,onSuccess:C,onError:H,get children(){return[e(P,{label:a,name:"private-name",get value(){return i().name},get onValueUpdate(){return F("name")}}),e(m,{get when(){return g().name.length>0},get children(){return e(w,{type:"danger",get children(){return e(L,{get each(){return g().name},children:t=>(()=>{var r=d(M);return b(r,t),r})()})}})}}),e(J,{label:o,name:"private-email",type:"email",get value(){return i().email},get onValueUpdate(){return F("email")},ref(t){var r=l;typeof r=="function"?r(t):l=t}}),e(m,{get when(){return g().email.length>0},get children(){return e(w,{type:"danger",get children(){return e(L,{get each(){return g().email},children:t=>(()=>{var r=d(M);return b(r,t),r})()})}})}}),e(P,{label:E,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return i().captcha},get onValueUpdate(){return F("captcha")}}),e(m,{get when(){return g().captcha.length>0},get children(){return e(w,{type:"danger",get children(){return e(L,{get each(){return g().captcha},children:t=>(()=>{var r=d(M);return b(r,t),r})()})}})}}),e(Y,{label:s,name:"private-message",get value(){return i().message},get onValueUpdate(){return F("message")}}),e(m,{get when(){return g().message.length>0},get children(){return e(w,{type:"danger",get children(){return e(L,{get each(){return g().message},children:t=>(()=>{var r=d(M);return b(r,t),r})()})}})}}),e(m,{get when(){return n.language},children:t=>e(_,{name:"language",get value(){return t()}})}),e(m,{get when(){return n.category},children:t=>e(_,{name:"category",get value(){return t()}})}),e(m,{get when(){return n.referer},children:t=>e(_,{name:"referer",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnSuccess},children:t=>e(_,{name:"redirect-on-success",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnFailure},children:t=>e(_,{name:"redirect-on-failure",get value(){return t().href}})}),e(m,{get when(){return n.redirectOnSpam},children:t=>e(_,{name:"redirect-on-spam",get value(){return t().href}})})]}}),e(m,{get when(){return y()},get children(){return[d(q),e(w,{type:"danger",get children(){return e(I,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(N,{get when(){return n.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(m,{get when(){return p()},get children(){return[d(q),e(w,{type:"success",get children(){return e(I,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(N,{get when(){return n.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{ne as ContactFormImpl};
