import{m as I,o as J,g as f,a as M,i as b,t as S,u as P,d as G,c as w,r as O,b as H,s as F,e as T,f as e,S as h,h as V,F as C,j as A,M as B}from"./web.DIEgmnRw.js";var K=S("<form action=https://elysium.gildedernacht.ch/forms method=post><!$><!/><button type=submit class=button-accent>");const Q="https://elysium.gildedernacht.ch/forms";function X(l){const t=I({language:"de",submitLabel:l.language==="en"?"Submit":"Absenden"},l);let c;J(()=>{c.setAttribute("novalidate",""),[...c.querySelectorAll('input[name^="redirect"][type="hidden"]')].forEach(u=>u.remove())});async function p(s){const{target:u}=s;if(u!==null&&u instanceof HTMLFormElement){s.preventDefault();const i=new FormData(u);if(!t.isValid(i))return;try{const o=await fetch(Q,{method:"post",body:i});o.ok?t.onSuccess():t.onError(await o.text())}catch(o){t.onError(o)}}}return(()=>{var s=f(K),u=s.firstChild,[i,o]=M(u.nextSibling),r=i.nextSibling,d=c;return typeof d=="function"?P(d,s):c=s,s.addEventListener("submit",p),b(s,()=>t.children,i,o),b(r,()=>t.submitLabel),s})()}var Y=S("<label><!$><!/><input>");function U(l){const t=I({type:"text",required:!0,isHoneypot:!1},l);return(()=>{var c=f(Y),p=c.firstChild,[s,u]=M(p.nextSibling),i=s.nextSibling;b(c,()=>t.label,s,u);var o=t.ref;return typeof o=="function"?P(o,i):t.ref=i,i.$$input=r=>t.onValueUpdate(r.target.value),w(r=>{var d=t.isHoneypot?"honey":"",y=t.type,_=t.name,$=t.label,x=t.required;return d!==r.e&&H(c,r.e=d),y!==r.t&&F(i,"type",r.t=y),_!==r.a&&F(i,"name",r.a=_),$!==r.o&&F(i,"placeholder",r.o=$),x!==r.i&&T(i,"required",r.i=x),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),w(()=>T(i,"value",t.value)),O(),c})()}G(["input"]);var Z=S("<label><!$><!/><textarea>");function ee(l){const t=I({required:!0},l);return(()=>{var c=f(Z),p=c.firstChild,[s,u]=M(p.nextSibling),i=s.nextSibling;b(c,()=>t.label,s,u);var o=t.ref;return typeof o=="function"?P(o,i):t.ref=i,i.$$input=r=>t.onValueUpdate(r.target.value),w(r=>{var d=t.name,y=t.label,_=t.required;return d!==r.e&&F(i,"name",r.e=d),y!==r.t&&F(i,"placeholder",r.t=y),_!==r.a&&T(i,"required",r.a=_),r},{e:void 0,t:void 0,a:void 0}),w(()=>T(i,"value",t.value)),O(),c})()}G(["input"]);var te=S("<input type=hidden>");function D(l){return(()=>{var t=f(te);return w(()=>F(t,"name",l.name)),w(()=>T(t,"value",l.value)),t})()}var ne=S('<a><i class="fa-duotone fa-arrow-turn-down-right event-icon"></i> <!$><!/>'),re=S("<div><span></span><!$><!/>");function L(l){return(()=>{var t=f(re),c=t.firstChild,p=c.nextSibling,[s,u]=M(p.nextSibling);return b(c,()=>l.children),b(t,e(h,{get when(){return l.link!==void 0&&l.linkLabel!==void 0},get children(){var i=f(ne),o=i.firstChild,r=o.nextSibling,d=r.nextSibling,[y,_]=M(d.nextSibling);return b(i,()=>l.linkLabel,y,_),w($=>{var x=l.link??"",k=`button button-small button-${l.type??"gray"}`;return x!==$.e&&F(i,"href",$.e=x),k!==$.t&&H(i,$.t=k),$},{e:void 0,t:void 0}),i}}),s,u),w(()=>H(t,`box-${l.type??"gray"}`)),t})()}var W=S("<br>"),N=S("<p>");function le(l){const t="Name",c=l.language==="de"?"E-Mail":"Email",p=l.language==="de"?"Bitte leer lassen":"leave this field empty",s=l.language==="de"?"Nachricht":"Message",[u,i]=V({name:"",email:"",captcha:"",message:""});let o,r,d,y;const[_,$]=V(!1),[x,k]=V(!1);function j(){$(!0)}function z(n){k(!0),console.error(n)}const[m,E]=V({name:[],email:[],captcha:[],message:[]});function q(n){return a=>{k(!1),E({name:[],email:[],captcha:[],message:[]}),i(v=>({...v,[n]:a}))}}function R(n){E({name:[],email:[],captcha:[],message:[]});const a=l.language==="en";if(u().name.trim().length===0){const v=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,name:[...g.name,v]}))}if(u().email.trim().length===0){const v=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,email:[...g.email,v]}))}if(r.validity.typeMismatch){const v=a?"The input does not seem to be a valid email address.":"Die Eingabe scheint keine gÃ¼ltige E-Mail-Adresse zu sein.";E(g=>({...g,email:[...g.email,v]}))}if(u().captcha.trim().length>0){const v=a?"This is field must be empty.":"Dies Feld muss leer bleiben.";E(g=>({...g,captcha:[...g.captcha,v]}))}if(u().message.trim().length===0){const v=a?"This is a mandatory field.":"Dies ist ein Pflichtfeld.";E(g=>({...g,message:[...g.message,v]}))}return m().name.length===0&&m().email.length===0&&m().captcha.length===0&&m().message.length===0}return[e(X,{get language(){return l.language??"de"},isValid:R,onSuccess:j,onError:z,get children(){return[e(U,{label:t,name:"private-name",get value(){return u().name},get onValueUpdate(){return q("name")},ref(n){var a=o;typeof a=="function"?a(n):o=n}}),e(h,{get when(){return m().name.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return m().name},children:n=>(()=>{var a=f(N);return b(a,n),a})()})}})}}),e(U,{label:c,name:"private-email",type:"email",get value(){return u().email},get onValueUpdate(){return q("email")},ref(n){var a=r;typeof a=="function"?a(n):r=n}}),e(h,{get when(){return m().email.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return m().email},children:n=>(()=>{var a=f(N);return b(a,n),a})()})}})}}),e(U,{label:p,name:"private-captcha",type:"email",required:!1,isHoneypot:!0,get value(){return u().captcha},get onValueUpdate(){return q("captcha")},ref(n){var a=d;typeof a=="function"?a(n):d=n}}),e(h,{get when(){return m().captcha.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return m().captcha},children:n=>(()=>{var a=f(N);return b(a,n),a})()})}})}}),e(ee,{label:s,name:"private-message",get value(){return u().message},get onValueUpdate(){return q("message")},ref(n){var a=y;typeof a=="function"?a(n):y=n}}),e(h,{get when(){return m().message.length>0},get children(){return e(L,{type:"danger",get children(){return e(C,{get each(){return m().message},children:n=>(()=>{var a=f(N);return b(a,n),a})()})}})}}),e(D,{name:"mail-config",value:"disable"}),e(D,{name:"post-config",value:"disable"}),e(h,{get when(){return l.language},children:n=>e(D,{name:"language",get value(){return n()}})}),e(h,{get when(){return l.category},children:n=>e(D,{name:"category",get value(){return n()}})}),e(h,{get when(){return l.referer},children:n=>e(D,{name:"referer",get value(){return n().href}})}),e(h,{get when(){return l.redirectOnSuccess},children:n=>e(D,{name:"redirect-on-success",get value(){return n().href}})}),e(h,{get when(){return l.redirectOnFailure},children:n=>e(D,{name:"redirect-on-failure",get value(){return n().href}})})]}}),e(h,{get when(){return x()},get children(){return[f(W),e(L,{type:"danger",get children(){return e(A,{fallback:"Leider konnten wir die Nachricht nicht absenden. Bitte versuche es erneut.",get children(){return e(B,{get when(){return l.language==="en"},children:"There was a problem sending your message. Please try again."})}})}})]}}),e(h,{get when(){return _()},get children(){return[f(W),e(L,{type:"success",get children(){return e(A,{fallback:"Nachricht wurde erfolgreich gesendet.",get children(){return e(B,{get when(){return l.language==="en"},children:"Message successfully sent."})}})}})]}})]}export{le as ContactFormImpl};
